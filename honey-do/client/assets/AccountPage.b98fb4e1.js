import{h as x,u as G,s as S,c as n,a as u,o as c,b as d,e as p,d as e,t as _,p as k,k as M,j,v as N,F as m,m as h,w as b,y as C,z as A,f as B}from"./vendor.beee16f7.js";import{_ as I,A as a,m as L,g as R}from"./index.ba94b712.js";const T={name:"Account",setup(){const r=x({});G();const i=S();return{editable:r,user:n(()=>a.user),account:n(()=>a.account),groups:n(()=>a.groups),searchResults:n(()=>a.searchResults),activeGroup:n(()=>a.activeGroup),members:n(()=>a.members),acceptedMembers:n(()=>a.members.filter(o=>o.status=="accepted")),declinedMembers:n(()=>a.members.filter(o=>o.status=="declined")),async goTo(o){a.activeGroup=o,i.push({name:"Home",params:{id:o.id}}),await L.getGroupMembers(o.id)},setGroup(o){a.grouptoJoin=o},async groupSearch(){try{await R.groupSearch(r.value),r.value={}}catch(o){logger.error(o),Pop.toast(o.message,"error")}}}}},l=r=>(C("data-v-14e20814"),r=r(),A(),r),V={class:"container-fluid"},F={key:0,class:"d-flex flex-column",style:{"min-height":"85vh"}},D={class:"row justify-content-around"},P={class:"text-center"},O={class:"row d-flex justify-content-center mb-2"},q={class:"text-center"},z={key:0,class:"btn btn-secondary elevation-2","data-bs-toggle":"modal","data-bs-target":"#group-options"},E=l(()=>e("h6",{class:"mb-0"},"Group options",-1)),H=[E],J={class:"row flex-grow-1"},U={class:"col-12 text-center"},K=l(()=>e("h5",null,"Search Groups",-1)),Q=l(()=>e("button",{class:"btn btn-secondary elevation-2",title:"Search Groups"},[e("i",{class:"mdi mdi-magnify",title:"Search Group"})],-1)),W={class:"col-12"},X=["onClick"],Y={class:"row d-flex flex-column"},Z={class:"col-12 d-flex justify-content-around"},$=l(()=>e("button",{title:"New Group",class:"btn btn-secondary my-3 elevation-2","data-bs-target":"#new-group","data-bs-toggle":"modal"},[e("h6",{class:"m-0"},"New Group")],-1)),ee={class:"dropup"},oe=l(()=>e("button",{title:"My Groups",class:"btn btn-secondary dropdown-toggle my-3 elevation-2 d-flex align-items-center",type:"button",id:"dropdownMenu2","data-bs-toggle":"dropdown","aria-expanded":"false"},[e("h6",{class:"mb-0"},"My Groups")],-1)),te={class:"dropdown-menu","aria-labelledby":"dropdownMenu2"},se=["onClick"],ae={key:1,class:"row rounded shadow bg-secondary text-center p-3 my-3"},re=B("Delete Group");function ne(r,i,o,t,ce,de){const g=u("LogoBanner"),v=u("Login"),y=u("GroupOptionsForm"),f=u("Modal");return c(),d("div",V,[p(g),t.user.isAuthenticated?(c(),d("div",F,[e("div",D,[p(v)]),e("h3",P,_(t.activeGroup.name),1),e("div",O,[e("div",q,[t.activeGroup.name&&t.activeGroup.creatorId==t.account.id?(c(),d("button",z,H)):k("",!0)])]),e("div",J,[e("div",null,[e("div",U,[K,e("form",{class:"mb-3 d-flex align-items-center",onSubmit:i[1]||(i[1]=M((...s)=>t.groupSearch&&t.groupSearch(...s),["prevent"]))},[j(e("input",{type:"text",class:"form-control me-2",name:"group-search",id:"group-search","aria-describedby":"group search",placeholder:"Group Name...","onUpdate:modelValue":i[0]||(i[0]=s=>t.editable.search=s),required:""},null,512),[[N,t.editable.search]]),Q],32)]),e("div",W,[(c(!0),d(m,null,h(t.searchResults,s=>(c(),d("ul",{key:s.id},[e("li",{onClick:w=>t.setGroup(s),class:"selectable","data-bs-target":"#join-group","data-bs-toggle":"modal"},_(s.name)+" | "+_(s.creatorName),9,X)]))),128))])])]),e("div",Y,[e("div",Z,[$,e("div",ee,[oe,e("ul",te,[(c(!0),d(m,null,h(t.groups,s=>(c(),d("li",{key:s.id},[e("div",{class:"dropdown-item selectable",onClick:w=>t.goTo(s),title:"Go To Group"},_(s.name),9,se)]))),128))])])])])])):(c(),d("div",ae," Sign in to enjoy the features of our app. ")),p(f,{id:"group-options"},{title:b(()=>[re]),body:b(()=>[p(y)]),_:1})])}var ue=I(T,[["render",ne],["__scopeId","data-v-14e20814"]]);export{ue as default};
