import{u as A,i as R,c as d,a as i,o as a,b as r,d as e,e as l,t as G,F as u,m as p,C as g,w as m,q as S,s as C,f as v}from"./vendor.ad55b28b.js";import{_ as M,A as n,P as h,n as b,l as x,g as F,m as w}from"./index.6102586f.js";const B={name:"Home",setup(){const s=A();return R(async()=>{try{s.name=="Home"&&(await F.getGroup(s.params.id),await w.getGroupMembers(s.params.id),await w.getPendingMembers(s.params.id),await b.getNotes(s.params.id))}catch(o){x.error(o),h.toast(o.message,"error")}}),{activeGroup:d(()=>n.activeGroup),members:d(()=>n.members),notes:d(()=>n.notes),groupRequests:d(()=>n.groupRequests),account:d(()=>n.account),setRequest(o){n.memberRequest=o},async deleteAllNotes(){try{await h.confirm("Are You Sure You Want To Delete All Notes?")&&await b.deleteAllNotes(n.notes)}catch(o){x.error(o),h.toast(o.message,"error")}}}}},_=s=>(S("data-v-99e7ee40"),s=s(),C(),s),I={class:"container-fluid d-flex flex-column",style:{"min-height":"94vh"}},P={class:"row px-2"},H={class:"row px-2"},V=_(()=>e("div",{class:"col-12 d-flex flex-column"},[e("h5",{class:"align-self-center"},"My Group Members")],-1)),D={class:"col-12 p-2 bg-secondary d-flex rounded shadow"},L=["src","title"],j={key:0,class:"row px-2"},E=_(()=>e("div",{class:"col-12 d-flex flex-column"},[e("h5",{class:"align-self-center"},"Group Requests")],-1)),T={class:"col-12 p-2 bg-secondary d-flex rounded shadow"},Y=["onClick","src","title"],W=_(()=>e("div",{class:"row px-2"},[e("div",{class:"col-12 d-flex flex-column"},[e("h4",{class:"align-self-center mt-2"},"Group Notes")])],-1)),z={class:"row px-2 flex-grow-1 overflow"},J={class:"col-12"},K={class:"row px-2"},O={class:"col-12"},Q={class:"d-flex align-items-center mb-2"},U=_(()=>e("h6",{class:"bg-tertiary rounded"},[e("button",{class:"btn elevation-2","data-bs-toggle":"modal","data-bs-target":"#new-note"},[v(" Add Note"),e("i",{class:"mdi mdi-plus",title:"Add Note"})])],-1)),X=v("New Note"),Z=v("Add Member?");function $(s,o,ee,c,te,se){const y=i("LogoBanner"),N=i("Notes"),q=i("NoteForm"),f=i("Modal"),k=i("RequestForm");return a(),r(u,null,[e("div",I,[l(y),e("div",P,[e("h1",null,G(c.activeGroup.name),1)]),e("div",H,[V,e("div",D,[(a(!0),r(u,null,p(c.members,t=>(a(),r("div",{key:t.id,class:"d-flex"},[t.status=="accepted"?(a(),r("img",{key:0,src:t.picture,alt:"",class:"img-small rounded-circle m-1",title:t.name},null,8,L)):g("",!0)]))),128))])]),c.groupRequests.length>=1?(a(),r("div",j,[E,e("div",T,[(a(!0),r(u,null,p(c.groupRequests,t=>(a(),r("img",{onClick:oe=>c.setRequest(t),"data-bs-toggle":"modal","data-bs-target":"#group-request",key:t.id,src:t.picture,alt:"",class:"img-small rounded-circle m-1",title:t.name},null,8,Y))),128))])])):g("",!0),W,e("div",z,[e("div",J,[(a(!0),r(u,null,p(c.notes,t=>(a(),r("div",{key:t.id},[l(N,{note:t},null,8,["note"])]))),128))])]),e("div",K,[e("div",O,[e("div",Q,[U,c.activeGroup.creatorId==c.account.id?(a(),r("button",{key:0,class:"btn btn-secondary",onClick:o[0]||(o[0]=t=>c.deleteAllNotes())}," Delete All Notes ")):g("",!0)])])])]),l(f,{id:"new-note"},{title:m(()=>[X]),body:m(()=>[l(q)]),_:1}),l(f,{id:"group-request"},{title:m(()=>[Z]),body:m(()=>[l(k)]),_:1})],64)}var ce=M(B,[["render",$],["__scopeId","data-v-99e7ee40"]]);export{ce as default};
