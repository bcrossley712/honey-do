import{u as A,i as R,c as d,a as i,o as a,b as c,d as e,e as l,t as G,F as u,m as g,p as h,w as m,y as S,z as M,f as p}from"./vendor.beee16f7.js";import{_ as C,A as r,P as v,n as b,l as x,g as F,m as w}from"./index.ba94b712.js";const B={name:"Home",setup(){const s=A();return R(async()=>{try{s.name=="Home"&&(await F.getGroup(s.params.id),await w.getGroupMembers(s.params.id),await w.getPendingMembers(s.params.id),await b.getNotes(s.params.id))}catch(o){x.error(o),v.toast(o.message,"error")}}),{activeGroup:d(()=>r.activeGroup),members:d(()=>r.members),notes:d(()=>r.notes),groupRequests:d(()=>r.groupRequests),account:d(()=>r.account),setRequest(o){r.memberRequest=o},async deleteAllNotes(){try{await v.confirm("Are You Sure You Want To Delete All Notes?")&&await b.deleteAllNotes(r.notes)}catch(o){x.error(o),v.toast(o.message,"error")}}}}},_=s=>(S("data-v-60d2caa2"),s=s(),M(),s),I={class:"container-fluid d-flex flex-column",style:{"min-height":"94vh"}},P={class:"row px-2"},H={class:"row px-2"},V=_(()=>e("div",{class:"col-12 d-flex flex-column"},[e("h2",{class:"align-self-center"},"My Group Members")],-1)),j={class:"col-12 p-2 bg-secondary d-flex rounded shadow"},D=["src","title"],L={key:0,class:"row px-2"},E=_(()=>e("div",{class:"col-12 d-flex flex-column"},[e("h3",{class:"align-self-center"},"Group Requests")],-1)),T={class:"col-12 p-2 bg-secondary d-flex rounded shadow"},Y=["onClick","src","title"],z=_(()=>e("div",{class:"row px-2"},[e("div",{class:"col-12 d-flex flex-column"},[e("h3",{class:"align-self-center mt-2"},"Group Notes")])],-1)),W={class:"row px-2 flex-grow-1 overflow"},J={class:"col-12"},K={class:"row px-2"},O={class:"col-12"},Q={class:"d-flex justify-content-between align-items-center mb-2"},U=_(()=>e("h6",{class:"bg-secondary rounded"},[e("button",{class:"btn elevation-2","data-bs-toggle":"modal","data-bs-target":"#new-note"},[p(" Add Note"),e("i",{class:"mdi mdi-plus",title:"Add Note"})])],-1)),X={class:"bg-secondary rounded"},Z=_(()=>e("i",{class:"mdi mdi-cancel"},null,-1)),$=p(" Delete All Notes "),ee=[Z,$],te=p("New Note"),se=p("Add Member?");function oe(s,o,ae,n,ce,ne){const y=i("LogoBanner"),N=i("Notes"),q=i("NoteForm"),f=i("Modal"),k=i("RequestForm");return a(),c(u,null,[e("div",I,[l(y),e("div",P,[e("h1",null,G(n.activeGroup.name),1)]),e("div",H,[V,e("div",j,[(a(!0),c(u,null,g(n.members,t=>(a(),c("div",{key:t.id,class:"d-flex"},[t.status=="accepted"?(a(),c("img",{key:0,src:t.picture,alt:"",class:"img-small rounded-circle m-1",title:t.name},null,8,D)):h("",!0)]))),128))])]),n.groupRequests.length>=1?(a(),c("div",L,[E,e("div",T,[(a(!0),c(u,null,g(n.groupRequests,t=>(a(),c("img",{onClick:re=>n.setRequest(t),"data-bs-toggle":"modal","data-bs-target":"#group-request",key:t.id,src:t.picture,alt:"",class:"img-small rounded-circle m-1",title:t.name},null,8,Y))),128))])])):h("",!0),z,e("div",W,[e("div",J,[(a(!0),c(u,null,g(n.notes,t=>(a(),c("div",{key:t.id},[l(N,{note:t},null,8,["note"])]))),128))])]),e("div",K,[e("div",O,[e("div",Q,[U,e("h6",X,[n.activeGroup.creatorId==n.account.id?(a(),c("button",{key:0,class:"btn elevation-2",onClick:o[0]||(o[0]=t=>n.deleteAllNotes())},ee)):h("",!0)])])])])]),l(f,{id:"new-note"},{title:m(()=>[te]),body:m(()=>[l(q)]),_:1}),l(f,{id:"group-request"},{title:m(()=>[se]),body:m(()=>[l(k)]),_:1})],64)}var ie=C(B,[["render",oe],["__scopeId","data-v-60d2caa2"]]);export{ie as default};
