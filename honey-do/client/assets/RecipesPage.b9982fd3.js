import{h as w,u as x,K as S,c as g,a as c,o as n,b as l,d as i,e as p,k,j as C,v as B,F as u,m as V,s as F,w as f,f as N,t as j}from"./vendor.29af3d06.js";import{l as d,t as A,A as m,_ as L,g as M,P as _}from"./index.4698ff99.js";class P{constructor(e){this.id=e.id,this.name=e.name,this.servings=e.yields,this.slug=e.slug,this.imageUrl=e.thumbnail_url,this.ingredients=e.sections[0].components.map(t=>t.ingredient.name)}}const h={from:"0",size:"80",q:""};class q{async getRecipes(e){d.log(e),h.q=e;let s=(await A.get("",{params:h})).data.results.filter(a=>a.compilations);d.log("[getRecipes]",s),m.recipes=s.map(a=>new P(a))}}const D=new q;var O="/assets/undraw_searching_re_3ra9.8b774584.svg";const T={setup(){const o=w(""),e=x();return S(async()=>{try{e.name=="Recipes"&&await M.getGroup(e.params.id)}catch(t){d.error(t),_.toast(t.message,"error")}}),{editable:o,activeRecipe:g(()=>m.activeRecipe),recipes:g(()=>m.recipes),async getRecipes(){try{_.toast(`Searching for ${o.value}, please stand by...`,"info"),await D.getRecipes(o.value)}catch(t){d.error(t),_.toast(t.message,"error")}}}}},U={class:"container-fluid"},z={class:"row"},E={class:"col-10 offset-1 text-center p-2"},G=i("h2",null,"Recipe Search",-1),I=i("button",{title:"Search",class:"btn btn-secondary elevation-2 mdi mdi-magnify ms-1"},null,-1),K=i("span",null,"Click recipe to see more info",-1),Q={class:"row"},H={key:0,src:O,class:"img-fluid mt-2",alt:""};function J(o,e,t,s,a,W){const v=c("LogoBanner"),R=c("Recipe"),b=c("RecipeForm"),y=c("OffCanvas");return n(),l(u,null,[i("div",U,[p(v),i("div",z,[i("div",E,[G,i("form",{onSubmit:e[1]||(e[1]=k((...r)=>s.getRecipes&&s.getRecipes(...r),["prevent"])),class:"mb-3 d-flex"},[C(i("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>s.editable=r),type:"text",class:"form-control",name:"recipe-search",id:"recipe-search","aria-describedby":"helpId",placeholder:"Chicken soup...",required:""},null,512),[[B,s.editable]]),I],32),K])]),i("div",Q,[(n(!0),l(u,null,V(s.recipes,r=>(n(),l("div",{class:"col-10 offset-1",key:r.id},[p(R,{recipe:r},null,8,["recipe"])]))),128))]),s.recipes.length<5?(n(),l("img",H)):F("",!0)]),p(y,{id:"recipe"},{title:f(()=>[N(j(s.activeRecipe.name),1)]),body:f(()=>[p(b)]),_:1})],64)}var Z=L(T,[["render",J]]);export{Z as default};
