import{u as R,i as A,c as d,a as i,o as s,b as o,d as e,e as l,t as S,F as m,m as h,s as _,w as g,y as G,z as M,f as p}from"./vendor.7fc07221.js";import{_ as C,A as r,P as v,n as b,l as y,g as F,m as x,s as B}from"./index.07d0dfa7.js";var I="/assets/undraw_sorting_thoughts_re_fgli.f3a4a729.svg";const P={name:"Home",setup(){const a=R();return A(async()=>{try{a.name=="Home"&&(await F.getGroup(a.params.id),await x.getGroupMembers(a.params.id),await x.getPendingMembers(a.params.id),await b.getNotes(a.params.id),B.joinRoom("group-"+a.params.id))}catch(c){y.error(c),v.toast(c.message,"error")}}),{activeGroup:d(()=>r.activeGroup),members:d(()=>r.members),notes:d(()=>r.notes),groupRequests:d(()=>r.groupRequests),account:d(()=>r.account),setRequest(c){r.memberRequest=c},async deleteAllNotes(){try{await v.confirm("Are You Sure You Want To Delete All Notes?")&&await b.deleteAllNotes(r.notes)}catch(c){y.error(c),v.toast(c.message,"error")}}}}},u=a=>(G("data-v-2312cebd"),a=a(),M(),a),j={class:"container-fluid d-flex flex-column",style:{"min-height":"94vh"}},H={class:"row px-2 max-height"},V={class:"col-12"},D=u(()=>e("div",{class:"col-12 d-flex flex-column"},[e("h2",{class:"align-self-center"},"My Group Members")],-1)),L={class:"col-12 p-2 bg-secondary d-flex rounded elevation-2"},E=["src","title"],T={key:0,class:"col-12 d-flex flex-column pt-1"},Y=u(()=>e("h3",{class:"align-self-center"},"Group Requests",-1)),z=[Y],W={key:1,class:"col-12 p-2 bg-secondary d-flex rounded elevation-2"},J=["onClick","src","title"],K=u(()=>e("div",{class:"col-12 d-flex flex-column"},[e("h3",{class:"align-self-center mt-2"},"Group Notes")],-1)),O={class:"col-12"},Q={class:"d-flex align-items-end py-1"},U={key:0,src:I,class:"img-fluid",alt:""},X={class:"row px-2 w-100 fixed-buttons"},Z={class:"col-12"},$={class:"d-flex justify-content-between align-items-center mb-2"},ee=u(()=>e("h6",{class:"bg-secondary rounded"},[e("button",{class:"btn elevation-2","data-bs-toggle":"modal","data-bs-target":"#new-note"},[p(" Add Note"),e("i",{class:"mdi mdi-plus",title:"Add Note"})])],-1)),te={class:"bg-secondary rounded"},se=u(()=>e("i",{class:"mdi mdi-cancel"},null,-1)),oe=p(" Delete All Notes "),ae=[se,oe],ne=p("New Note"),ce=p("Add Member?");function re(a,c,le,n,de,ie){const N=i("LogoBanner"),w=i("Notes"),k=i("NoteForm"),f=i("Modal"),q=i("RequestForm");return s(),o(m,null,[e("div",j,[l(N),e("div",H,[e("div",null,[e("div",V,[e("h1",null,S(n.activeGroup.name),1)]),D,e("div",L,[(s(!0),o(m,null,h(n.members,t=>(s(),o("div",{key:t.id,class:"d-flex"},[t.status=="accepted"?(s(),o("img",{key:0,src:t.picture,alt:"",class:"img-small rounded-circle m-1",title:t.name},null,8,E)):_("",!0)]))),128))]),n.groupRequests.length>=1?(s(),o("div",T,z)):_("",!0),n.groupRequests.length>=1?(s(),o("div",W,[(s(!0),o(m,null,h(n.groupRequests,t=>(s(),o("img",{onClick:_e=>n.setRequest(t),"data-bs-toggle":"modal","data-bs-target":"#group-request",key:t.id,src:t.picture,alt:"",class:"img-small rounded-circle m-1",title:t.name},null,8,J))),128))])):_("",!0),K,e("div",O,[(s(!0),o(m,null,h(n.notes,t=>(s(),o("div",{key:t.id},[l(w,{note:t},null,8,["note"])]))),128))])]),e("div",Q,[n.notes.length<1?(s(),o("img",U)):_("",!0)])]),e("div",X,[e("div",Z,[e("div",$,[ee,e("h6",te,[n.activeGroup.creatorId==n.account.id?(s(),o("button",{key:0,class:"btn elevation-2",onClick:c[0]||(c[0]=t=>n.deleteAllNotes())},ae)):_("",!0)])])])])]),l(f,{id:"new-note"},{title:g(()=>[ne]),body:g(()=>[l(k)]),_:1}),l(f,{id:"group-request"},{title:g(()=>[ce]),body:g(()=>[l(q)]),_:1})],64)}var ge=C(P,[["render",re],["__scopeId","data-v-2312cebd"]]);export{ge as default};
