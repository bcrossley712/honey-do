import{u as A,i as R,c as d,a as i,o as s,b as o,d as e,e as l,t as G,F as u,m as h,s as m,w as p,y as S,z as M,f as g}from"./vendor.29af3d06.js";import{_ as C,A as r,P as v,n as b,l as x,g as F,m as y}from"./index.5640aae4.js";var B="/assets/undraw_sorting_thoughts_re_fgli.f3a4a729.svg";const I={name:"Home",setup(){const a=A();return R(async()=>{try{a.name=="Home"&&(await F.getGroup(a.params.id),await y.getGroupMembers(a.params.id),await y.getPendingMembers(a.params.id),await b.getNotes(a.params.id))}catch(n){x.error(n),v.toast(n.message,"error")}}),{activeGroup:d(()=>r.activeGroup),members:d(()=>r.members),notes:d(()=>r.notes),groupRequests:d(()=>r.groupRequests),account:d(()=>r.account),setRequest(n){r.memberRequest=n},async deleteAllNotes(){try{await v.confirm("Are You Sure You Want To Delete All Notes?")&&await b.deleteAllNotes(r.notes)}catch(n){x.error(n),v.toast(n.message,"error")}}}}},_=a=>(S("data-v-38ac594b"),a=a(),M(),a),P={class:"container-fluid d-flex flex-column",style:{"min-height":"94vh"}},H={class:"row px-2"},V={class:"row px-2"},j=_(()=>e("div",{class:"col-12 d-flex flex-column"},[e("h2",{class:"align-self-center"},"My Group Members")],-1)),D={class:"col-12 p-2 bg-secondary d-flex rounded elevation-2"},L=["src","title"],E={key:0,class:"row px-2"},T=_(()=>e("div",{class:"col-12 d-flex flex-column"},[e("h3",{class:"align-self-center"},"Group Requests")],-1)),Y={class:"col-12 p-2 bg-secondary d-flex rounded elevation-2"},z=["onClick","src","title"],W=_(()=>e("div",{class:"row px-2"},[e("div",{class:"col-12 d-flex flex-column"},[e("h3",{class:"align-self-center mt-2"},"Group Notes")])],-1)),J={class:"row px-2 flex-grow-1 overflow"},K={class:"col-12"},O={key:1,src:B,class:"img-fluid",alt:""},Q={class:"row px-2"},U={class:"col-12"},X={class:"d-flex justify-content-between align-items-center mb-2"},Z=_(()=>e("h6",{class:"bg-secondary rounded"},[e("button",{class:"btn elevation-2","data-bs-toggle":"modal","data-bs-target":"#new-note"},[g(" Add Note"),e("i",{class:"mdi mdi-plus",title:"Add Note"})])],-1)),$={class:"bg-secondary rounded"},ee=_(()=>e("i",{class:"mdi mdi-cancel"},null,-1)),te=g(" Delete All Notes "),se=[ee,te],oe=g("New Note"),ae=g("Add Member?");function ne(a,n,ce,c,re,le){const w=i("LogoBanner"),N=i("Notes"),k=i("NoteForm"),f=i("Modal"),q=i("RequestForm");return s(),o(u,null,[e("div",P,[l(w),e("div",H,[e("h1",null,G(c.activeGroup.name),1)]),e("div",V,[j,e("div",D,[(s(!0),o(u,null,h(c.members,t=>(s(),o("div",{key:t.id,class:"d-flex"},[t.status=="accepted"?(s(),o("img",{key:0,src:t.picture,alt:"",class:"img-small rounded-circle m-1",title:t.name},null,8,L)):m("",!0)]))),128))])]),c.groupRequests.length>=1?(s(),o("div",E,[T,e("div",Y,[(s(!0),o(u,null,h(c.groupRequests,t=>(s(),o("img",{onClick:de=>c.setRequest(t),"data-bs-toggle":"modal","data-bs-target":"#group-request",key:t.id,src:t.picture,alt:"",class:"img-small rounded-circle m-1",title:t.name},null,8,z))),128))])])):m("",!0),W,e("div",J,[e("div",K,[(s(!0),o(u,null,h(c.notes,t=>(s(),o("div",{key:t.id},[l(N,{note:t},null,8,["note"])]))),128))])]),c.notes.length<4?(s(),o("img",O)):m("",!0),e("div",Q,[e("div",U,[e("div",X,[Z,e("h6",$,[c.activeGroup.creatorId==c.account.id?(s(),o("button",{key:0,class:"btn elevation-2",onClick:n[0]||(n[0]=t=>c.deleteAllNotes())},se)):m("",!0)])])])])]),l(f,{id:"new-note"},{title:p(()=>[oe]),body:p(()=>[l(k)]),_:1}),l(f,{id:"group-request"},{title:p(()=>[ae]),body:p(()=>[l(q)]),_:1})],64)}var ue=C(I,[["render",ne],["__scopeId","data-v-38ac594b"]]);export{ue as default};
