import{r as le,c as b,a as C,o as d,b as u,d as r,e as y,w as v,F as G,f as S,S as J,g as K,h as A,i as de,M as x,j as $,v as I,k as E,u as q,l as Y,m as F,t as h,n as W,p as ue,q as U,s as B,x as me,y as _e,z as j,A as pe,B as ge,C as w,D as be,E as P,G as L,H as X,I as he,J as fe}from"./vendor.ad55b28b.js";const ve=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const i of c)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function t(c){const i={};return c.integrity&&(i.integrity=c.integrity),c.referrerpolicy&&(i.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?i.credentials="include":c.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(c){if(c.ep)return;c.ep=!0;const i=t(c);fetch(c.href,i)}};ve();const n=le({user:{},account:{},recipes:[],activeRecipe:{},activeGroup:{},items:[],chores:[],notes:[],members:[],groups:[],activeGroup:{},searchResults:[],grouptoJoin:{},groupRequests:[],memberRequest:{}});var p=(s,e)=>{for(const[t,o]of e)s[t]=o;return s};const ye={name:"App",setup(){return{appState:b(()=>n)}}},$e={class:"mb-5"},we=S("New Group"),Ce=S(" Edit Account"),xe=S("Request to join group");function ke(s,e,t,o,c,i){const a=C("Navbar"),g=C("router-view"),k=C("GroupForm"),D=C("Modal"),ce=C("AccountForm"),ie=C("JoinForm");return d(),u(G,null,[r("header",null,[y(a)]),r("main",$e,[y(g)]),y(D,{id:"new-group"},{title:v(()=>[we]),body:v(()=>[y(k)]),_:1}),y(D,{id:"edit-account"},{title:v(()=>[Ce]),body:v(()=>[y(ce)]),_:1}),y(D,{id:"join-group"},{title:v(()=>[xe]),body:v(()=>[y(ie)]),_:1})],64)}var Se=p(ye,[["render",ke]]);class m{static async confirm(e="Are you sure?",t="You won't be able to revert this!",o="warning",c="Yes, delete it!"){try{return!!(await J.fire({title:e,text:t,icon:o,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:c})).isConfirmed}catch{return!1}}static toast(e="Warning!",t="warning",o="top-end",c=3e3,i=!0){J.fire({title:e,icon:t,position:o,timer:c,timerProgressBar:i,toast:!0,showConfirmButton:!1})}}const Q=window.location.origin.includes("localhost"),Z=Q?"http://localhost:3000":"",Ie="dev-bcrossley712.us.auth0.com",Ae="https://brian-dev.com",Ee="omph0kyWMR2mKaoZphUvm7lVBfiDkRPf";function T(s,e){if(Q)console[s](`[${s}] :: ${new Date().toLocaleTimeString()} :: `,...e);else{switch(s){case"log":case"assert":return}console[s](`[${s}] :: ${new Date().toLocaleTimeString()} :: `,...e)}}const l={log(){T("log",arguments)},error(){T("error",arguments)},warn(){T("warn",arguments)},assert(){T("assert",arguments)},trace(){T("trace",arguments)}},_=K.create({baseURL:Z,timeout:8e3}),Vs=K.create({baseURL:"https://tasty.p.rapidapi.com/recipes/list",timeout:8e3,headers:{"X-RapidAPI-Host":"tasty.p.rapidapi.com","X-RapidAPI-Key":"9d0dc9db3fmsh9c8ab121e8123a7p1ddabajsnf4e1461ad73a"}});class Te{async getAccount(){try{const e=await _.get("/account");n.account=e.data}catch(e){l.error("HAVE YOU STARTED YOUR SERVER YET???",e)}}async getMyGroups(){const e=await _.get("/account/groups");l.log("[getMyGroups]",e.data),n.groups=e.data}async editAccount(e){const t=await _.put("account",e);l.log("[editAccount]",t.data),n.account=t.data}}const V=new Te,Me={setup(){const s=A({});return de(()=>{s.value=n.account}),{editable:s,async editAccount(){try{await V.editAccount(s.value),x.getOrCreateInstance(document.getElementById("edit-account")).hide()}catch(e){l.error(e),m.toast(e.message,"error")}}}}},Re=r("label",{for:"Group Name",class:"form-label"},"Name",-1),Ne=r("label",{for:"picture",class:"form-label"},"ImageUrl",-1),Oe=r("button",{class:"btn btn-success mt-2",title:"Edit Account"}," Edit Account ",-1);function Ge(s,e,t,o,c,i){return d(),u("form",{class:"mb-3",onSubmit:e[2]||(e[2]=E((...a)=>o.editAccount&&o.editAccount(...a),["prevent"]))},[Re,$(r("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>o.editable.name=a),type:"text",class:"form-control",name:"",id:"",placeholder:"Name...",required:""},null,512),[[I,o.editable.name]]),Ne,$(r("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>o.editable.picture=a),type:"text",class:"form-control",name:"",id:"",placeholder:"ImageUrl...",required:""},null,512),[[I,o.editable.picture]]),Oe],32)}var qe=p(Me,[["render",Ge]]),je=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:qe});class Pe{async createChore(e){const t=await _.post("api/chores",e);l.log("chore created",t.data),n.chores.push(t.data)}async getChores(e){const t=await _.get(`api/groups/${e}/chores`);l.log("got chores",t.data),n.chores=t.data}async markComplete(e){let t=n.chores.find(i=>i.id==e);t.isComplete=!t.isComplete;const o=await _.put(`api/chores/${e}`,t);l.log("chore marked complete",o.data);let c=n.chores.findIndex(i=>i.id==e);n.chores.splice(c,1,o.data)}async deleteChore(e){const t=await _.delete(`api/chores/${e}`);n.chores=n.chores.filter(o=>o.id!=e),l.log("chore deleted",t.data)}async resetChores(){await n.chores.filter(t=>t.isComplete==!0).forEach(t=>this.markComplete(t.id))}}const z=new Pe,Le={setup(){const s=A({}),e=q();return{editable:s,members:b(()=>n.members),async createChore(){try{s.value.groupId=e.params.id,await z.createChore(s.value),x.getOrCreateInstance(document.getElementById("new-chore")),s.value.body=""}catch(t){l.error(t),m.toast(t.message,"error")}}}}},De=["value"],Fe={class:"d-flex"},Ue=r("button",{class:"btn-rounded-end bg-success mdi mdi-check",title:"Add Chore"},null,-1);function Be(s,e,t,o,c,i){return d(),u("form",{onSubmit:e[2]||(e[2]=E((...a)=>o.createChore&&o.createChore(...a),["prevent"])),class:"mb-3"},[$(r("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>o.editable.assignedTo=a),class:"form-select mb-2",default:"",name:"assignedTo",id:"assignedTo"},[(d(!0),u(G,null,F(o.members,a=>(d(),u("option",{key:a.id,value:a.id},[r("p",null,h(a.name),1)],8,De))),128))],512),[[Y,o.editable.assignedTo]]),r("div",Fe,[$(r("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>o.editable.body=a),type:"text",class:"form-control",name:"",id:"","aria-describedby":"helpId",placeholder:"Add Chore here"},null,512),[[I,o.editable.body]]),Ue])],32)}var Ve=p(Le,[["render",Be]]),ze=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ve});class He{async getGroup(e){const t=await _.get("api/groups/"+e);l.log("get group",t.data),n.activeGroup=t.data}async createGroup(e){const t=await _.post("api/groups",e);return l.log("group created",t.data),n.groups.push(t.data),t.data}async groupSearch(e){const t=await _.get("api/groups",{params:e});l.log("[groupSearch]",t.data),n.searchResults=t.data}}const Je=new He,Ke={setup(){const s=W(),e=A({});return{editable:e,async createGroup(){try{let t=await Je.createGroup(e.value);x.getOrCreateInstance(document.getElementById("new-group")).hide(),s.push({name:"Home",params:{id:t.id}}),n.activeGroup=t}catch(t){l.error(t),m.toast(t.message,"error")}}}}},Ye=r("button",{class:"btn btn-success mt-2 align-self-end",title:"Create Group"}," Create Group ",-1);function We(s,e,t,o,c,i){return d(),u("form",{class:"mb-3 d-flex flex-column",onSubmit:e[1]||(e[1]=E((...a)=>o.createGroup&&o.createGroup(...a),["prevent"]))},[$(r("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>o.editable.name=a),type:"text",class:"form-control",name:"",id:"","aria-describedby":"helpId",placeholder:"Name your Group!",required:""},null,512),[[I,o.editable.name]]),Ye],32)}var Xe=p(Ke,[["render",We]]),Qe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Xe});class Ze{async createItem(e){const t=await _.post("api/items",e);l.log("[createItems]",t.data),n.items.unshift(t.data)}async getItems(e){const t=await _.get("api/groups/"+e+"/items");l.log("[getItems]",t.data),n.items=t.data}async markComplete(e){let t=n.items.find(o=>o.id==e);t.isComplete=!t.isComplete,await _.put("api/items/"+e,t),l.log("item marked complete",t.isComplete)}async addAll(e,t){await e.forEach(o=>this.createItem({name:o,groupId:t}))}async deleteItem(e){await _.delete("api/items/"+e),n.items=n.items.filter(t=>t.id!=e)}async deleteAllItems(e){await e.forEach(t=>this.deleteItem(t.id))}}const H=new Ze,et={setup(){const s=A({}),e=q();return{editable:s,async createItem(){try{s.value.groupId=e.params.id,await H.createItem(s.value),s.value.name=""}catch(t){l.error(t),m.toast(t.message,"error")}}}}},tt=ue('<option value="" selected disabled>Select one...</option><option value="grocery">Grocery</option><option value="hardware">Hardware</option><option value="cleaning">Cleaning</option><option value="office">Office</option>',5),ot=[tt],st={class:"input-group my-2"},rt=r("div",{class:"input-group-append"},[r("button",{class:"btn-rounded-end bg-success",id:"basic-addon2"},[r("i",{class:"mdi mdi-check"})])],-1);function at(s,e,t,o,c,i){return d(),u("form",{onSubmit:e[2]||(e[2]=E(a=>o.createItem(),["prevent"]))},[$(r("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>o.editable.type=a),class:"form-select",name:"",id:""},ot,512),[[Y,o.editable.type]]),r("div",st,[$(r("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>o.editable.name=a),type:"text",class:"form-control",placeholder:"shopping item","aria-label":"shopping item","aria-describedby":"basic-addon2"},null,512),[[I,o.editable.name]]),rt])],32)}var nt=p(et,[["render",at]]),ct=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:nt});class it{async getGroupMembers(e){const t=await _.get(`api/groups/${e}/members`);l.log("got group members",t.data),n.members=t.data}async getPendingMembers(e){const t=await _.get(`api/groups/${e}/members`,{params:{status:"pending"}});l.log("[getPendingMembers]",t.data),n.groupRequests=t.data}async createMember(e){const t=await _.post("api/members",e);l.log("[createMember]",t.data),n.members.push(t.data)}async acceptMember(e,t){const o=n.members.findIndex(i=>i.memberId==e),c=await _.put("api/members/"+e,t);l.log("[acceptMember]",c.data),n.memberRequest={},n.groupRequests=n.groupRequests.filter(i=>i.memberId!=e),o!=-1?n.members.splice(o,1,c.data):n.members.push(c.data)}async declineMember(e,t){const o=n.members.findIndex(i=>i.memberId==e),c=await _.put("api/members/"+e,t);l.log("[declineMember]",c.data),n.memberRequest={},o!=-1&&n.members.splice(o,1,c.data)}}const M=new it;const lt={setup(){return{groupToJoin:b(()=>n.grouptoJoin),async createMember(){const s={groupId:n.grouptoJoin.id,accountId:n.account.id};try{await M.createMember(s),m.toast("Your request has been sent","success"),x.getOrCreateInstance(document.getElementById("join-group")).hide()}catch(e){l.error(e),m.toast(e.message,"error")}}}}},ee=s=>(U("data-v-9862a7ba"),s=s(),B(),s),dt={class:"container-fluid"},ut={class:"row"},mt={class:"col-12"},_t=ee(()=>r("h6",{class:"p-1"},"Group Name:",-1)),pt={class:"p-1"},gt={class:"col-12"},bt=ee(()=>r("h6",{class:"p-1"},"Group Creator:",-1)),ht={class:"d-flex align-items-center p-1"},ft=["src"],vt={class:"col-6 offset-6"};function yt(s,e,t,o,c,i){return d(),u("div",dt,[r("div",ut,[r("div",mt,[_t,r("h6",pt,h(o.groupToJoin.name),1)]),r("div",gt,[bt,r("div",ht,[r("img",{src:o.groupToJoin.picture,alt:"",class:"img-small px-1"},null,8,ft),r("h6",null,h(o.groupToJoin.creatorName),1)])]),r("div",vt,[r("button",{onClick:e[0]||(e[0]=(...a)=>o.createMember&&o.createMember(...a)),class:"btn btn-primary"}," Request to join? ")])])])}var $t=p(lt,[["render",yt],["__scopeId","data-v-9862a7ba"]]),wt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$t});const Ct="modulepreload",te={},xt="/",R=function(e,t){return!t||t.length===0?e():Promise.all(t.map(o=>{if(o=`${xt}${o}`,o in te)return;te[o]=!0;const c=o.endsWith(".css"),i=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${i}`))return;const a=document.createElement("link");if(a.rel=c?"stylesheet":Ct,c||(a.as="script",a.crossOrigin=""),a.href=o,document.head.appendChild(a),c)return new Promise((g,k)=>{a.addEventListener("load",g),a.addEventListener("error",k)})})).then(()=>e())};function kt(s){switch(s){case"./pages/AccountPage.vue":return R(()=>import("./AccountPage.5a300958.js"),["assets/AccountPage.5a300958.js","assets/AccountPage.4320a374.css","assets/vendor.ad55b28b.js"]);case"./pages/ChoresPage.vue":return R(()=>import("./ChoresPage.e837a54e.js"),["assets/ChoresPage.e837a54e.js","assets/ChoresPage.bb13d9f3.css","assets/vendor.ad55b28b.js"]);case"./pages/HomePage.vue":return R(()=>import("./HomePage.8d7fb75f.js"),["assets/HomePage.8d7fb75f.js","assets/HomePage.98612460.css","assets/vendor.ad55b28b.js"]);case"./pages/ItemsPage.vue":return R(()=>import("./ItemsPage.46614394.js"),["assets/ItemsPage.46614394.js","assets/ItemsPage.5c8df2b9.css","assets/vendor.ad55b28b.js"]);case"./pages/RecipesPage.vue":return R(()=>import("./RecipesPage.8a324095.js"),["assets/RecipesPage.8a324095.js","assets/vendor.ad55b28b.js"]);default:return new Promise(function(e,t){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(t.bind(null,new Error("Unknown variable dynamic import: "+s)))})}}function N(s){return()=>kt(`./pages/${s}.vue`)}const St=[{path:"/group/:id/home",name:"Home",component:N("HomePage"),beforeEnter:j},{path:"/group/:id/items",name:"Items",component:N("ItemsPage"),beforeEnter:j},{path:"/group/:id/recipes",name:"Recipes",component:N("RecipesPage"),beforeEnter:j},{path:"/group/:id/chores",name:"Chores",component:N("ChoresPage"),beforeEnter:j},{path:"/",name:"Account",component:N("AccountPage"),beforeEnter:pe}],oe=me({linkActiveClass:"router-link-active",linkExactActiveClass:"router-link-exact-active",history:_e(),routes:St}),It={connection:"connection",connected:"connected",disconnect:"disconnect",authenticate:"authenticate",authenticated:"authenticated",userConnected:"userConnected",userDisconnected:"userDisconnected",error:"error"};class At{constructor(e=!1,t=Z){}on(e,t){var o;return(o=this.socket)==null||o.on(e,t.bind(this)),this}onConnected(e){l.log("[SOCKET_CONNECTION]",e),this.connected=!0,this.playback()}onAuthenticated(e){l.log("[SOCKET_AUTHENTICATED]",e),this.authenticated=!0,this.playback()}authenticate(e){var t;(t=this.socket)==null||t.emit(It.authenticate,e)}onError(e){l.error("[SOCKET_ERROR]",e)}enqueue(e,t){l.log("[ENQUEING_ACTION]",{action:e,payload:t}),this.queue.push({action:e,payload:t})}playback(){l.log("[SOCKET_PLAYBACK]");const e=[...this.queue];this.queue=[],e.forEach(t=>{this.emit(t.action,t.payload)})}emit(e,t=void 0){if(this.requiresAuth&&!this.authenticated)return this.enqueue(e,t);if(!this.connected)return this.enqueue(e,t);this.socket.emit(e,t)}}class Et extends At{constructor(){super();this.on("error",this.onError)}onError(e){m.toast(e.message,"error")}}const se=new Et,f=ge({domain:Ie,clientId:Ee,audience:Ae,useRefreshTokens:!0,onRedirectCallback:s=>{oe.push(s&&s.targetUrl?s.targetUrl:window.location.pathname)}});f.on(f.AUTH_EVENTS.AUTHENTICATED,async function(){_.defaults.headers.authorization=f.bearer,_.interceptors.request.use(Tt),n.user=f.user,await V.getAccount(),se.authenticate(f.bearer),await V.getMyGroups()});async function Tt(s){if(!f.isAuthenticated)return s;const e=f.identity.exp*1e3,t=e<Date.now(),o=e<Date.now()+1e3*60*60*12;return t?await f.loginWithPopup():o&&(await f.getTokenSilently(),_.defaults.headers.authorization=f.bearer,se.authenticate(f.bearer)),s}const Mt={setup(){return{user:b(()=>n.user),account:b(()=>n.account),async login(){f.loginWithPopup()},async logout(){f.logout({returnTo:window.location.origin})}}}},re=s=>(U("data-v-792a7014"),s=s(),B(),s),Rt={class:"navbar-text"},Nt={key:1,class:"dropdown my-2 my-lg-0"},Ot={title:"Account Options",class:"dropdown-toggle selectable","data-bs-toggle":"dropdown","aria-expanded":"false",id:"authDropdown"},Gt={key:0,class:"text-center"},qt=["src"],jt={class:"mx-3 text-dark lighten-30"},Pt={class:"dropdown-menu p-0 list-group w-100","aria-labelledby":"authDropdown"},Lt=re(()=>r("div",{class:"list-group-item list-group-item-action hoverable text-danger","data-bs-toggle":"modal","data-bs-target":"#edit-account"},[r("i",{class:"mdi mdi-pencil"}),S(" Edit Account ")],-1)),Dt=re(()=>r("i",{class:"mdi mdi-logout"},null,-1)),Ft=S(" Logout "),Ut=[Dt,Ft];function Bt(s,e,t,o,c,i){return d(),u("span",Rt,[o.user.isAuthenticated?(d(),u("div",Nt,[r("div",Ot,[o.account.picture?(d(),u("div",Gt,[r("img",{src:o.account.picture,alt:"account photo",height:"40",class:"rounded"},null,8,qt),r("span",jt,h(o.account.name),1)])):w("",!0)]),r("div",Pt,[Lt,r("div",{class:"list-group-item list-group-item-action hoverable text-danger",onClick:e[1]||(e[1]=(...a)=>o.logout&&o.logout(...a))},Ut)])])):(d(),u("button",{key:0,title:"Login",class:"btn selectable lighten-30 text-uppercase my-2 my-lg-0",onClick:e[0]||(e[0]=(...a)=>o.login&&o.login(...a))}," Login "))])}var Vt=p(Mt,[["render",Bt],["__scopeId","data-v-792a7014"]]),zt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Vt}),Ht="/assets/honeydo_logo.3b859808.png";const Jt={setup(){return{}}},Kt={class:"row"},Yt=r("h1",{class:"bg-secondary text-light t-shadow p-2"},[r("img",{src:Ht,alt:"",class:"img-fluid",style:{"max-height":"45px"}})],-1),Wt=[Yt];function Xt(s,e,t,o,c,i){return d(),u("div",Kt,Wt)}var Qt=p(Jt,[["render",Xt]]),Zt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Qt});const eo={props:{member:{type:Object,required:!0}},setup(s){return{chores:b(()=>n.chores.filter(e=>e.assignedTo==s.member.id)),account:b(()=>n.account),group:b(()=>n.activeGroup),async markComplete(e){try{await z.markComplete(e)}catch(t){l.error(t),m.toast(t.message,"error")}},async deleteChore(e){try{await m.confirm("Delete this Chore?")&&(await z.deleteChore(e),m.toast("Chore Deleted!","success"))}catch(t){l.error(t),m.toast(t.message,"error")}}}}},to={key:0},oo={class:"rounded px-1"},so=["value"],ro={class:"d-flex justify-content-between"},ao=["onClick"],no=["checked"],co=["onClick"];function io(s,e,t,o,c,i){return o.chores.length>0?(d(),u("div",to,[r("h6",null,[r("span",oo,h(t.member.name),1)]),(d(!0),u(G,null,F(o.chores,a=>(d(),u("div",{class:"form-check",key:a.id,value:a.id},[r("div",ro,[r("div",{onClick:g=>o.markComplete(a.id)},[r("input",{title:"Mark Chore Complete",type:"checkbox",class:"form-check-input",name:"Chore Name",id:"",checked:a.isComplete},null,8,no),r("label",{class:"form-check-label ms-2 mb-1",for:"",style:be({textDecoration:a.isComplete?"line-through":"inherit"})},h(a.body),5)],8,ao),a.creatorId==o.account.id||o.group.creatorId==o.account.id?(d(),u("i",{key:0,onClick:g=>o.deleteChore(a.id),class:"mdi mdi-trash-can-outline ms-2 text-secondary"},null,8,co)):w("",!0)])],8,so))),128))])):w("",!0)}var lo=p(eo,[["render",io]]),uo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lo});const mo={props:{member:{type:Object,required:!0}},setup(s){return{async changeStatus(e){try{const t={status:e,groupId:s.member.groupId};e=="declined"&&(await M.declineMember(s.member.memberId,t),m.toast("Member booted","success")),e=="accepted"&&(await M.acceptMember(s.member.memberId,t),m.toast("Member accepted","success"))}catch(t){l.error(t),m.toast(t.message,"error")}}}}},_o={class:"container-fluid"},po={class:"row"},go={class:"col-12 my-1"},bo={class:"col-12 my-1 d-flex justify-content-between"};function ho(s,e,t,o,c,i){var a;return d(),u("div",_o,[r("div",po,[r("div",go,[r("h6",null,"Name: "+h((a=t.member)==null?void 0:a.name),1),r("h6",null,"Group status: "+h(t.member.status),1)]),r("div",bo,[t.member.status=="declined"?(d(),u("button",{key:0,onClick:e[0]||(e[0]=g=>o.changeStatus("accepted")),class:"btn btn-secondary"}," Accept Member? ")):w("",!0),t.member.status=="accepted"?(d(),u("button",{key:1,onClick:e[1]||(e[1]=g=>o.changeStatus("declined")),class:"btn btn-secondary"}," Boot Member? ")):w("",!0)])])])}var fo=p(mo,[["render",ho]]),vo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:fo});const yo={setup(){return{}}},$o={class:"modal fade bg-modal",tabindex:"-1",role:"dialog","aria-labelledby":"modelTitleId","aria-hidden":"true"},wo={class:"modal-dialog modal-dialog-end",role:"document"},Co={class:"modal-content"},xo={class:"modal-header bg-secondary"},ko={class:"modal-title"},So=r("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Io={class:"modal-body bg-secondary lighten-20 rounded-bottom"};function Ao(s,e,t,o,c,i){return d(),u("div",$o,[r("div",wo,[r("div",Co,[r("div",xo,[r("h5",ko,[P(s.$slots,"title")]),So]),r("div",Io,[P(s.$slots,"body")])])])])}var Eo=p(yo,[["render",Ao]]),To=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Eo});const Mo={setup(){return{user:b(()=>n.user),activeGroup:b(()=>n.activeGroup)}}},O=s=>(U("data-v-1609e7d1"),s=s(),B(),s),Ro={class:"navbar navbar-expand-lg navbar-dark bg-secondary px-3 nav-sticky"},No={key:0,class:"d-flex justify-content-end w-100"},Oo={key:1,class:"d-flex justify-content-between w-100"},Go=O(()=>r("i",{class:"mdi mdi-format-list-bulleted fs-4"},null,-1)),qo=O(()=>r("i",{class:"mdi mdi-cart-outline fs-4"},null,-1)),jo=O(()=>r("i",{class:"mdi mdi-home"},null,-1)),Po=O(()=>r("i",{class:"mdi mdi-noodles fs-4"},null,-1)),Lo=O(()=>r("i",{class:"mdi mdi-account fs-4"},null,-1));function Do(s,e,t,o,c,i){const a=C("Login"),g=C("router-link");return d(),u("nav",Ro,[o.user.isAuthenticated?(d(),u("div",Oo,[o.activeGroup.id?(d(),L(g,{key:0,class:"navbar-brand p-0 text-center m-0 text-dark",to:{name:"Chores",params:{id:o.activeGroup.id}},title:"Chores"},{default:v(()=>[Go]),_:1},8,["to"])):w("",!0),o.activeGroup.id?(d(),L(g,{key:1,class:"navbar-brand p-0 text-center m-0 text-dark",to:{name:"Items",params:{id:o.activeGroup.id}},title:"Shopping List"},{default:v(()=>[qo]),_:1},8,["to"])):w("",!0),o.activeGroup.id?(d(),L(g,{key:2,class:"navbar-brand p-0 text-center m-0 text-dark",to:{name:"Home",params:{id:o.activeGroup.id}},title:"Home"},{default:v(()=>[jo]),_:1},8,["to"])):w("",!0),o.activeGroup.id?(d(),L(g,{key:3,class:"navbar-brand p-0 text-center m-0 text-dark",to:{name:"Recipes",params:{id:o.activeGroup.id}},title:"Recipes"},{default:v(()=>[Po]),_:1},8,["to"])):w("",!0),y(g,{class:"navbar-brand p-0 text-center m-0 text-dark",to:{name:"Account"},title:"Account"},{default:v(()=>[Lo]),_:1})])):(d(),u("div",No,[y(a)]))])}var Fo=p(Mo,[["render",Do],["__scopeId","data-v-1609e7d1"]]),Uo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Fo});class Bo{async getNotes(e){const t=await _.get(`api/groups/${e}/notes`);l.log("[getNotes]",t.data),n.notes=t.data.reverse()}async createNote(e){const t=await _.post("api/notes",e);l.log("[createNote]",t.data),n.notes.unshift(t.data)}async deleteNotes(e){const t=await _.delete("api/notes/"+e);l.log(t.data),n.notes=n.notes.filter(o=>o.id!=e)}async deleteAllNotes(e){await e.forEach(t=>this.deleteNotes(t.id))}}const ae=new Bo,Vo={setup(){const s=q(),e=A({});return{editable:e,async createNote(){try{e.value.groupId=s.params.id,await ae.createNote(e.value),x.getOrCreateInstance(document.getElementById("new-note")).hide(),e.value={}}catch(t){l.error(t),m.toast(t.message,"error")}}}}},zo=r("button",{class:"btn btn-success mt-2 align-self-end",title:"Create Note"}," Create Note ",-1);function Ho(s,e,t,o,c,i){return d(),u("form",{class:"mb-3 d-flex flex-column",onSubmit:e[1]||(e[1]=E((...a)=>o.createNote&&o.createNote(...a),["prevent"]))},[$(r("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>o.editable.body=a),type:"text",class:"form-control",name:"",id:"","aria-describedby":"helpId",placeholder:"Tell us..."},null,512),[[I,o.editable.body]]),zo],32)}var Jo=p(Vo,[["render",Ho]]),Ko=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Jo});const Yo={props:{note:{type:Object,required:!0}},setup(s){return{notes:b(()=>n.notes),account:b(()=>n.account),group:b(()=>n.activeGroup),async deleteNotes(){try{let e=s.note.id;await m.confirm("Are You Sure You Want To Delete?")&&await ae.deleteNotes(e),m.toast("Note Deleted")}catch(e){l.error(e),m.toast(e.message,"error")}},swipeRight(){l.log("swiping right")}}}},Wo={class:"row p-3"},Xo={class:"col-3"},Qo=["src"],Zo={class:"col-9 rounded text-start elevation-2 d-flex justify-content-between"};function es(s,e,t,o,c,i){var k;const a=X("touch"),g=X("touch-class");return $((d(),u("span",null,[r("div",Wo,[r("div",Xo,[r("img",{src:(k=t.note.creator)==null?void 0:k.picture,alt:"",class:"img-fluid img-small rounded-circle"},null,8,Qo)]),r("div",Zo,[r("div",null,[r("span",null,h(new Date(t.note.createdAt).toLocaleString()),1),r("p",null,h(t.note.body),1)])])])],512)),[[a,o.deleteNotes,"swipe",{right:!0}],[g,"active"]])}var ts=p(Yo,[["render",es],["__scopeId","data-v-0dbf5b94"]]),os=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ts});const ss={setup(){return{}}},rs={class:"offcanvas offcanvas-start",tabindex:"-1","aria-labelledby":"offcanvasExampleLabel"},as={class:"offcanvas-header"},ns={class:"offcanvas-title",id:"offcanvasExampleLabel"},cs=r("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1),is={class:"offcanvas-body"};function ls(s,e,t,o,c,i){return d(),u("div",rs,[r("div",as,[r("h5",ns,[P(s.$slots,"title")]),cs]),r("div",is,[P(s.$slots,"body")])])}var ds=p(ss,[["render",ls]]),us=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ds});const ms={props:{recipe:{type:Object,required:!0}},setup(s){return W(),{goTo(){n.activeRecipe=s.recipe}}}},_s={class:"col-12 p-2 d-flex"},ps=["src"],gs={class:"p-2"};function bs(s,e,t,o,c,i){return d(),u("div",{class:"row my-2 shadow rounded bg-secondary selectable","data-bs-toggle":"offcanvas","data-bs-target":"#recipe",onClick:e[0]||(e[0]=(...a)=>o.goTo&&o.goTo(...a)),title:"Recipe Details"},[r("div",_s,[r("img",{class:"img-fluid img-md",src:t.recipe.imageUrl,alt:"recipe image"},null,8,ps),r("h6",gs,h(t.recipe.name),1)])])}var hs=p(ms,[["render",bs],["__scopeId","data-v-6404b4b0"]]),fs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:hs});const vs={setup(){const s=q();return{activeRecipe:b(()=>n.activeRecipe),async addIngredient(e){try{const t={name:e,groupId:s.params.id};await H.createItem(t),m.toast(`${t.name} added to list`,"success")}catch(t){l.error(t),m.toast(t.message,"error")}},async addAll(e){try{await H.addAll(e,s.params.id),m.toast("All ingredients added to list","success")}catch(t){l.error(t),m.toast(t.message,"error")}}}}},ys={class:"container-fluid"},$s={class:"row"},ws={class:"col-12"},Cs=["src"],xs=["onClick"],ks=r("i",{class:"mdi mdi-plus selectable",title:"Add Ingredient"},null,-1),Ss={class:"col-12"},Is=["href"];function As(s,e,t,o,c,i){return d(),u("div",ys,[r("div",$s,[r("div",ws,[r("img",{src:o.activeRecipe.imageUrl,alt:"recipe image",class:"img-fluid rounded"},null,8,Cs)]),r("i",{class:"mdi mdi-plus selectable fs-5 p-2",onClick:e[0]||(e[0]=a=>o.addAll(o.activeRecipe.ingredients))}," Add all to shopping list"),(d(!0),u(G,null,F(o.activeRecipe.ingredients,a=>(d(),u("div",{key:a.name,class:"col-12"},[r("p",{onClick:g=>o.addIngredient(a),class:"ps-2"},[ks,S(" "+h(a),1)],8,xs)]))),128)),r("div",Ss,[r("a",{target:"_blank",class:"btn-secondary btn",href:`https://tasty.co/recipe/${o.activeRecipe.slug}`},"Click for full recipe",8,Is)])])])}var Es=p(vs,[["render",As]]),Ts=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Es});const Ms={setup(){return{memberRequest:b(()=>n.memberRequest),async acceptMember(){try{const s={status:"accepted"};await M.acceptMember(n.memberRequest.memberId,s),m.toast("Member has been accepted","success"),x.getOrCreateInstance(document.getElementById("group-request")).hide()}catch(s){l.error(s),m.toast(s.message,"error")}},async declineMember(){try{const s={status:"declined"};await M.declineMember(n.memberRequest.memberId,s),m.toast("Member has been declined","error"),x.getOrCreateInstance(document.getElementById("group-request")).hide()}catch(s){l.error(s),m.toast(s.message,"error")}}}}},Rs={class:"container-fluid"},Ns={class:"row"},Os={class:"col-12"},Gs={class:"d-flex align-items-center p-1"},qs=["src"],js={class:"col-6"},Ps={class:"col-6"};function Ls(s,e,t,o,c,i){return d(),u("div",Rs,[r("div",Ns,[r("div",Os,[r("h6",null,h(o.memberRequest.name),1),r("div",Gs,[r("img",{src:o.memberRequest.picture,alt:"",class:"img-small px-1"},null,8,qs)])]),r("div",js,[r("button",{onClick:e[0]||(e[0]=(...a)=>o.acceptMember&&o.acceptMember(...a)),class:"btn btn-success"},"Accept")]),r("div",Ps,[r("button",{onClick:e[1]||(e[1]=(...a)=>o.declineMember&&o.declineMember(...a)),class:"btn btn-danger"},"Decline")])])])}var Ds=p(Ms,[["render",Ls],["__scopeId","data-v-145d6397"]]),Fs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ds});function Us(s){Object.entries({"./components/AccountForm.vue":je,"./components/ChoreForm.vue":ze,"./components/GroupForm.vue":Qe,"./components/ItemForm.vue":ct,"./components/JoinForm.vue":wt,"./components/Login.vue":zt,"./components/LogoBanner.vue":Zt,"./components/MemberChores.vue":uo,"./components/MemberForm.vue":vo,"./components/Modal.vue":To,"./components/Navbar.vue":Uo,"./components/NoteForm.vue":Ko,"./components/Notes.vue":os,"./components/OffCanvas.vue":us,"./components/Recipe.vue":fs,"./components/RecipeForm.vue":Ts,"./components/RequestForm.vue":Fs}).forEach(([t,o])=>{const c=o.name||t.substr(t.lastIndexOf("/")+1).replace(/\.\w+$/,"");s.component(c,o.default)})}const ne=he(Se);Us(ne);ne.use(fe).use(oe).mount("#app");export{n as A,m as P,p as _,z as c,Je as g,H as i,l,M as m,ae as n,Vs as t};
