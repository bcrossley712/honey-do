import{u as A,i as R,c as d,a as i,o as a,b as r,d as e,e as l,t as G,F as u,m as g,C as h,w as m,q as S,s as C,f as p}from"./vendor.ad55b28b.js";import{_ as M,A as n,P as v,n as b,l as x,g as F,m as w}from"./index.d9596563.js";const B={name:"Home",setup(){const s=A();return R(async()=>{try{s.name=="Home"&&(await F.getGroup(s.params.id),await w.getGroupMembers(s.params.id),await w.getPendingMembers(s.params.id),await b.getNotes(s.params.id))}catch(o){x.error(o),v.toast(o.message,"error")}}),{activeGroup:d(()=>n.activeGroup),members:d(()=>n.members),notes:d(()=>n.notes),groupRequests:d(()=>n.groupRequests),account:d(()=>n.account),setRequest(o){n.memberRequest=o},async deleteAllNotes(){try{await v.confirm("Are You Sure You Want To Delete All Notes?")&&await b.deleteAllNotes(n.notes)}catch(o){x.error(o),v.toast(o.message,"error")}}}}},_=s=>(S("data-v-df336a24"),s=s(),C(),s),I={class:"container-fluid d-flex flex-column",style:{"min-height":"94vh"}},P={class:"row px-2"},H={class:"row px-2"},V=_(()=>e("div",{class:"col-12 d-flex flex-column"},[e("h2",{class:"align-self-center"},"My Group Members")],-1)),j={class:"col-12 p-2 bg-secondary d-flex rounded shadow"},D=["src","title"],L={key:0,class:"row px-2"},E=_(()=>e("div",{class:"col-12 d-flex flex-column"},[e("h3",{class:"align-self-center"},"Group Requests")],-1)),T={class:"col-12 p-2 bg-secondary d-flex rounded shadow"},Y=["onClick","src","title"],W=_(()=>e("div",{class:"row px-2"},[e("div",{class:"col-12 d-flex flex-column"},[e("h3",{class:"align-self-center mt-2"},"Group Notes")])],-1)),z={class:"row px-2 flex-grow-1 overflow"},J={class:"col-12"},K={class:"row px-2"},O={class:"col-12"},Q={class:"d-flex justify-content-between align-items-center mb-2"},U=_(()=>e("h6",{class:"bg-tertiary rounded"},[e("button",{class:"btn elevation-2","data-bs-toggle":"modal","data-bs-target":"#new-note"},[p(" Add Note"),e("i",{class:"mdi mdi-plus",title:"Add Note"})])],-1)),X={class:"bg-tertiary rounded"},Z=_(()=>e("i",{class:"mdi mdi-cancel"},null,-1)),$=p(" Delete All Notes "),ee=[Z,$],te=p("New Note"),se=p("Add Member?");function oe(s,o,ae,c,re,ce){const y=i("LogoBanner"),N=i("Notes"),q=i("NoteForm"),f=i("Modal"),k=i("RequestForm");return a(),r(u,null,[e("div",I,[l(y),e("div",P,[e("h1",null,G(c.activeGroup.name),1)]),e("div",H,[V,e("div",j,[(a(!0),r(u,null,g(c.members,t=>(a(),r("div",{key:t.id,class:"d-flex"},[t.status=="accepted"?(a(),r("img",{key:0,src:t.picture,alt:"",class:"img-small rounded-circle m-1",title:t.name},null,8,D)):h("",!0)]))),128))])]),c.groupRequests.length>=1?(a(),r("div",L,[E,e("div",T,[(a(!0),r(u,null,g(c.groupRequests,t=>(a(),r("img",{onClick:ne=>c.setRequest(t),"data-bs-toggle":"modal","data-bs-target":"#group-request",key:t.id,src:t.picture,alt:"",class:"img-small rounded-circle m-1",title:t.name},null,8,Y))),128))])])):h("",!0),W,e("div",z,[e("div",J,[(a(!0),r(u,null,g(c.notes,t=>(a(),r("div",{key:t.id},[l(N,{note:t},null,8,["note"])]))),128))])]),e("div",K,[e("div",O,[e("div",Q,[U,e("h6",X,[c.activeGroup.creatorId==c.account.id?(a(),r("button",{key:0,class:"btn elevation-2",onClick:o[0]||(o[0]=t=>c.deleteAllNotes())},ee)):h("",!0)])])])])]),l(f,{id:"new-note"},{title:m(()=>[te]),body:m(()=>[l(q)]),_:1}),l(f,{id:"group-request"},{title:m(()=>[se]),body:m(()=>[l(k)]),_:1})],64)}var ie=M(B,[["render",oe],["__scopeId","data-v-df336a24"]]);export{ie as default};
