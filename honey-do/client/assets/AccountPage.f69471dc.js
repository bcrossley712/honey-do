import{h as G,u as w,q as S,c as r,a as p,o as c,b as i,e as u,d as e,t as _,s as k,k as M,j,v as N,F as m,m as b,w as g,y as C,z as A,f as L}from"./vendor.7fc07221.js";import{_ as R,A as a,m as B,g as I}from"./index.56e8ea63.js";const T={name:"Account",setup(){const n=G({});w();const d=S();return{editable:n,user:r(()=>a.user),account:r(()=>a.account),groups:r(()=>a.groups),searchResults:r(()=>a.searchResults),activeGroup:r(()=>a.activeGroup),members:r(()=>a.members),acceptedMembers:r(()=>a.members.filter(o=>o.status=="accepted")),declinedMembers:r(()=>a.members.filter(o=>o.status=="declined")),async goTo(o){a.activeGroup=o,d.push({name:"Home",params:{id:o.id}}),await B.getGroupMembers(o.id)},setGroup(o){a.grouptoJoin=o},async groupSearch(){try{await I.groupSearch(n.value),n.value={}}catch(o){logger.error(o),Pop.toast(o.message,"error")}}}}},l=n=>(C("data-v-165be123"),n=n(),A(),n),V={key:0,class:"container-fluid"},D={class:"row d-flex flex-column min-height"},F={class:"justify-content-around"},P={class:"text-center"},q={class:"d-flex justify-content-center mb-2"},H={class:"text-center"},O={key:0,class:"btn btn-secondary elevation-2","data-bs-toggle":"modal","data-bs-target":"#group-options"},z=l(()=>e("h6",{class:"mb-0"},"Group options",-1)),E=[z],J={class:"col-12 text-center"},U=l(()=>e("h5",null,"Search Groups",-1)),K=l(()=>e("button",{class:"btn btn-secondary elevation-2",title:"Search Groups"},[e("i",{class:"mdi mdi-magnify",title:"Search Group"})],-1)),Q={class:"col-12"},W=["onClick"],X={class:"row px-2 d-flex flex-column fixed-buttons w-100"},Y={class:"col-12 d-flex justify-content-between"},Z=l(()=>e("button",{title:"New Group",class:"btn btn-secondary my-3 elevation-2","data-bs-target":"#new-group","data-bs-toggle":"modal"},[e("h6",{class:"m-0"},"New Group")],-1)),$={class:"dropup"},ee=l(()=>e("button",{title:"My Groups",class:"btn btn-secondary dropdown-toggle my-3 elevation-2 d-flex align-items-center",type:"button",id:"dropdownMenu2","data-bs-toggle":"dropdown","aria-expanded":"false"},[e("h6",{class:"mb-0"},"My Groups")],-1)),oe={class:"dropdown-menu","aria-labelledby":"dropdownMenu2"},te=["onClick"],se={key:1,class:"container-fluid bg-photo"},ae=l(()=>e("div",{class:"row d-flex flex-column rounded bg-secondary text-center p-3 m-3"},[e("div",null,"Please Register or Login to enjoy the features of Honey-Do")],-1)),ne=L("Delete Group");function re(n,d,o,t,ce,ie){const h=p("LogoBanner"),v=p("Login"),f=p("GroupOptionsForm"),y=p("Modal");return c(),i(m,null,[t.user.isAuthenticated?(c(),i("div",V,[u(h),e("div",D,[e("div",F,[u(v)]),e("h3",P,_(t.activeGroup.name),1),e("div",q,[e("div",H,[t.activeGroup.name&&t.activeGroup.creatorId==t.account.id?(c(),i("button",O,E)):k("",!0)])]),e("div",null,[e("div",J,[U,e("form",{class:"mb-3 d-flex align-items-center",onSubmit:d[1]||(d[1]=M((...s)=>t.groupSearch&&t.groupSearch(...s),["prevent"]))},[j(e("input",{type:"text",class:"form-control me-2",name:"group-search",id:"group-search","aria-describedby":"group search",placeholder:"Group Name...","onUpdate:modelValue":d[0]||(d[0]=s=>t.editable.search=s),required:""},null,512),[[N,t.editable.search]]),K],32)]),e("div",Q,[(c(!0),i(m,null,b(t.searchResults,s=>(c(),i("ul",{key:s.id},[e("li",{onClick:x=>t.setGroup(s),class:"selectable","data-bs-target":"#join-group","data-bs-toggle":"modal"},_(s.name)+" | "+_(s.creatorName),9,W)]))),128))])])]),e("div",X,[e("div",Y,[Z,e("div",$,[ee,e("ul",oe,[(c(!0),i(m,null,b(t.groups,s=>(c(),i("li",{key:s.id},[e("div",{class:"dropdown-item selectable",onClick:x=>t.goTo(s),title:"Go To Group"},_(s.name),9,te)]))),128))])])])])])):(c(),i("div",se,[u(h),ae])),u(y,{id:"group-options"},{title:g(()=>[ne]),body:g(()=>[u(f)]),_:1})],64)}var ue=R(T,[["render",re],["__scopeId","data-v-165be123"]]);export{ue as default};
