import{h as w,u as G,q as S,c as n,a as p,o as c,b as d,e as u,d as e,t as _,s as k,k as M,j,v as N,F as h,m as b,w as g,y as C,z as A,f as L}from"./vendor.29af3d06.js";import{_ as R,A as a,m as B,g as I}from"./index.4698ff99.js";const T={name:"Account",setup(){const r=w({});G();const i=S();return{editable:r,user:n(()=>a.user),account:n(()=>a.account),groups:n(()=>a.groups),searchResults:n(()=>a.searchResults),activeGroup:n(()=>a.activeGroup),members:n(()=>a.members),acceptedMembers:n(()=>a.members.filter(o=>o.status=="accepted")),declinedMembers:n(()=>a.members.filter(o=>o.status=="declined")),async goTo(o){a.activeGroup=o,i.push({name:"Home",params:{id:o.id}}),await B.getGroupMembers(o.id)},setGroup(o){a.grouptoJoin=o},async groupSearch(){try{await I.groupSearch(r.value),r.value={}}catch(o){logger.error(o),Pop.toast(o.message,"error")}}}}},l=r=>(C("data-v-17b773da"),r=r(),A(),r),V={key:0,class:"container-fluid"},D={class:"d-flex flex-column",style:{"min-height":"83vh"}},F={class:"row justify-content-around"},P={class:"text-center"},q={class:"row d-flex justify-content-center mb-2"},H={class:"text-center"},O={key:0,class:"btn btn-secondary elevation-2","data-bs-toggle":"modal","data-bs-target":"#group-options"},z=l(()=>e("h6",{class:"mb-0"},"Group options",-1)),E=[z],J={class:"row flex-grow-1"},U={class:"col-12 text-center"},K=l(()=>e("h5",null,"Search Groups",-1)),Q=l(()=>e("button",{class:"btn btn-secondary elevation-2",title:"Search Groups"},[e("i",{class:"mdi mdi-magnify",title:"Search Group"})],-1)),W={class:"col-12"},X=["onClick"],Y={class:"row px-2 d-flex flex-column"},Z={class:"col-12 d-flex justify-content-between"},$=l(()=>e("button",{title:"New Group",class:"btn btn-secondary my-3 elevation-2","data-bs-target":"#new-group","data-bs-toggle":"modal"},[e("h6",{class:"m-0"},"New Group")],-1)),ee={class:"dropup"},oe=l(()=>e("button",{title:"My Groups",class:"btn btn-secondary dropdown-toggle my-3 elevation-2 d-flex align-items-center",type:"button",id:"dropdownMenu2","data-bs-toggle":"dropdown","aria-expanded":"false"},[e("h6",{class:"mb-0"},"My Groups")],-1)),te={class:"dropdown-menu","aria-labelledby":"dropdownMenu2"},se=["onClick"],ae={key:1,class:"container-fluid bg-photo"},re=l(()=>e("div",{class:"row d-flex flex-column rounded bg-secondary text-center p-3 m-3"},[e("div",null,"Please Register or Login to enjoy the features of Honey-Do")],-1)),ne=L("Delete Group");function ce(r,i,o,t,de,ie){const m=p("LogoBanner"),v=p("Login"),f=p("GroupOptionsForm"),y=p("Modal");return t.user.isAuthenticated?(c(),d("div",V,[u(m),e("div",D,[e("div",F,[u(v)]),e("h3",P,_(t.activeGroup.name),1),e("div",q,[e("div",H,[t.activeGroup.name&&t.activeGroup.creatorId==t.account.id?(c(),d("button",O,E)):k("",!0)])]),e("div",J,[e("div",null,[e("div",U,[K,e("form",{class:"mb-3 d-flex align-items-center",onSubmit:i[1]||(i[1]=M((...s)=>t.groupSearch&&t.groupSearch(...s),["prevent"]))},[j(e("input",{type:"text",class:"form-control me-2",name:"group-search",id:"group-search","aria-describedby":"group search",placeholder:"Group Name...","onUpdate:modelValue":i[0]||(i[0]=s=>t.editable.search=s),required:""},null,512),[[N,t.editable.search]]),Q],32)]),e("div",W,[(c(!0),d(h,null,b(t.searchResults,s=>(c(),d("ul",{key:s.id},[e("li",{onClick:x=>t.setGroup(s),class:"selectable","data-bs-target":"#join-group","data-bs-toggle":"modal"},_(s.name)+" | "+_(s.creatorName),9,X)]))),128))])])]),e("div",Y,[e("div",Z,[$,e("div",ee,[oe,e("ul",te,[(c(!0),d(h,null,b(t.groups,s=>(c(),d("li",{key:s.id},[e("div",{class:"dropdown-item selectable",onClick:x=>t.goTo(s),title:"Go To Group"},_(s.name),9,se)]))),128))])])])])])])):(c(),d("div",ae,[u(m),re,u(y,{id:"group-options"},{title:g(()=>[ne]),body:g(()=>[u(f)]),_:1})]))}var pe=R(T,[["render",ce],["__scopeId","data-v-17b773da"]]);export{pe as default};
