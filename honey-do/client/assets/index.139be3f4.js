import{r as me,c as _,a as C,o as d,b as m,d as s,e as k,w as y,F as S,f as A,S as Q,g as Z,h as R,i as _e,M as I,j as b,v as T,k as E,u as L,l as ee,m as G,t as f,n as M,p as O,q as te,s as w,x as pe,y as H,z as Y,A as he,B as ge,C as F,D as fe,E as be,G as ve,H as z,I as B,J as ye,K as we}from"./vendor.7fc07221.js";const $e=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerpolicy&&(l.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?l.credentials="include":i.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(i){if(i.ep)return;i.ep=!0;const l=t(i);fetch(i.href,l)}};$e();const n=me({user:{},account:{},recipes:[],activeRecipe:{},activeGroup:{},items:[],chores:[],notes:[],members:[],groups:[],activeGroup:{},searchResults:[],grouptoJoin:{},groupRequests:[],memberRequest:{}});var h=(r,e)=>{for(const[t,o]of e)r[t]=o;return r};const ke={name:"App",setup(){return{appState:_(()=>n)}}},Ce={class:"mb-5"},Ie=A("New Group"),xe=A(" Edit Account"),Se=A("Request to join group");function Ae(r,e,t,o,i,l){const a=C("Navbar"),g=C("router-view"),x=C("GroupForm"),V=C("Modal"),de=C("AccountForm"),ue=C("JoinForm");return d(),m(S,null,[s("header",null,[k(a)]),s("main",Ce,[k(g)]),k(V,{id:"new-group"},{title:y(()=>[Ie]),body:y(()=>[k(x)]),_:1}),k(V,{id:"edit-account"},{title:y(()=>[xe]),body:y(()=>[k(de)]),_:1}),k(V,{id:"join-group"},{title:y(()=>[Se]),body:y(()=>[k(ue)]),_:1})],64)}var Te=h(ke,[["render",Ae]]);class u{static async confirm(e="Are you sure?",t="You won't be able to revert this!",o="warning",i="Yes, delete it!"){try{return!!(await Q.fire({title:e,text:t,icon:o,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:i})).isConfirmed}catch{return!1}}static toast(e="Warning!",t="warning",o="top-end",i=3e3,l=!0){Q.fire({title:e,icon:t,position:o,timer:i,timerProgressBar:l,toast:!0,showConfirmButton:!1})}}const oe=window.location.origin.includes("localhost"),J=oe?"http://localhost:3000":"",Me="dev-bcrossley712.us.auth0.com",Re="https://brian-dev.com",Ee="omph0kyWMR2mKaoZphUvm7lVBfiDkRPf";function j(r,e){if(oe)console[r](`[${r}] :: ${new Date().toLocaleTimeString()} :: `,...e);else{switch(r){case"log":case"assert":return}console[r](`[${r}] :: ${new Date().toLocaleTimeString()} :: `,...e)}}const c={log(){j("log",arguments)},error(){j("error",arguments)},warn(){j("warn",arguments)},assert(){j("assert",arguments)},trace(){j("trace",arguments)}},p=Z.create({baseURL:J,timeout:8e3}),Cs=Z.create({baseURL:"https://tasty.p.rapidapi.com/recipes/list",timeout:8e3,headers:{"X-RapidAPI-Host":"tasty.p.rapidapi.com","X-RapidAPI-Key":"9d0dc9db3fmsh9c8ab121e8123a7p1ddabajsnf4e1461ad73a"}});class Ge{async getAccount(){try{const e=await p.get("/account");n.account=e.data}catch(e){c.error("HAVE YOU STARTED YOUR SERVER YET???",e)}}async getMyGroups(){const e=await p.get("/account/groups");c.log("[getMyGroups]",e.data),n.groups=e.data}async editAccount(e){const t=await p.put("account",e);c.log("[editAccount]",t.data),n.account=t.data}}const K=new Ge,Oe={setup(){const r=R({});return _e(()=>{r.value=n.account}),{editable:r,async editAccount(){try{await K.editAccount(r.value),I.getOrCreateInstance(document.getElementById("edit-account")).hide()}catch(e){c.error(e),u.toast(e.message,"error")}}}}},je=s("label",{for:"Group Name",class:"form-label"},"Name",-1),Ne=s("label",{for:"picture",class:"form-label"},"ImageUrl",-1),qe=s("button",{class:"btn btn-success mt-2 elevation-2",title:"Edit Account"}," Edit Account ",-1);function De(r,e,t,o,i,l){return d(),m("form",{class:"mb-3",onSubmit:e[2]||(e[2]=E((...a)=>o.editAccount&&o.editAccount(...a),["prevent"]))},[je,b(s("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>o.editable.name=a),type:"text",class:"form-control",name:"",id:"",placeholder:"Name...",required:""},null,512),[[T,o.editable.name]]),Ne,b(s("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>o.editable.picture=a),type:"text",class:"form-control",name:"",id:"",placeholder:"ImageUrl...",required:""},null,512),[[T,o.editable.picture]]),qe],32)}var Pe=h(Oe,[["render",De]]),Le=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Pe});class Fe{async createChore(e){const t=await p.post("api/chores",e);c.log("chore created",t.data)}async getChores(e){const t=await p.get(`api/groups/${e}/chores`);c.log("got chores",t.data),n.chores=t.data}async markComplete(e){let t=n.chores.find(i=>i.id==e);t.isComplete=!t.isComplete;const o=await p.put(`api/chores/${e}`,t);c.log("chore marked complete",o.data)}async deleteChore(e){const t=await p.delete(`api/chores/${e}`);c.log("chore deleted",t.data)}async resetChores(){await n.chores.filter(t=>t.isComplete==!0).forEach(t=>this.markComplete(t.id))}}const W=new Fe,ze={setup(){const r=R({}),e=L();return{editable:r,members:_(()=>n.members),async createChore(){try{r.value.groupId=e.params.id,await W.createChore(r.value),I.getOrCreateInstance(document.getElementById("new-chore")),r.value.body=""}catch(t){c.error(t),u.toast(t.message,"error")}}}}},Be=["value"],Ue={class:"d-flex"},Ve=s("button",{class:"btn-rounded-end bg-success mdi mdi-check elevation-2",title:"Add Chore"},null,-1);function He(r,e,t,o,i,l){return d(),m("form",{onSubmit:e[2]||(e[2]=E((...a)=>o.createChore&&o.createChore(...a),["prevent"])),class:"mb-3"},[b(s("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>o.editable.assignedTo=a),class:"form-select mb-2",default:"",name:"assignedTo",id:"assignedTo"},[(d(!0),m(S,null,G(o.members,a=>(d(),m("option",{key:a.id,value:a.id},[s("p",null,f(a.name),1)],8,Be))),128))],512),[[ee,o.editable.assignedTo]]),s("div",Ue,[b(s("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>o.editable.body=a),type:"text",class:"form-control",name:"",id:"","aria-describedby":"helpId",placeholder:"Add Chore here"},null,512),[[T,o.editable.body]]),Ve])],32)}var Ye=h(ze,[["render",He]]),Je=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ye});class Ke{async createItem(e){const t=await p.post("api/items",e);c.log("[createItems]",t.data)}async getItems(e){const t=await p.get("api/groups/"+e+"/items");c.log("[getItems]",t.data),n.items=t.data}async markComplete(e){let t=n.items.find(o=>o.id==e);t.isComplete=!t.isComplete,await p.put("api/items/"+e,t),c.log("item marked complete",t.isComplete)}async addAll(e,t){await e.forEach(o=>this.createItem({name:o,groupId:t}))}async deleteItem(e){await p.delete("api/items/"+e),n.items=n.items.filter(t=>t.id!=e)}async deleteAllItems(e){await e.forEach(t=>this.deleteItem(t.id))}}const $=new Ke,We={props:{cleaningItems:{type:Object,required:!0}},setup(r){return{account:_(()=>n.account),member:_(()=>n.members),group:_(()=>n.activeGroup),async markComplete(e){try{await $.markComplete(e)}catch(t){c.error(t),u.toast(t.message,"error")}},async deleteItem(){try{let e=r.cleaningItems.id;c.log("swiping",e),await u.confirm("Are You Sure You Want To Delete?")&&(await $.deleteItem(e),u.toast("Item removed","success","top-end",1e3))}catch(e){c.error(e),u.toast(e.message,"error")}}}}},Xe={class:"justify-content-start"},Qe=["checked"];function Ze(r,e,t,o,i,l){const a=M("touch");return b((d(),m("span",null,[s("div",Xe,[s("div",{class:"form-check fs-5",onClick:e[0]||(e[0]=g=>o.markComplete(t.cleaningItems.id))},[s("input",{class:"form-check-input elevation-2",type:"checkbox",value:"",id:"flexCheckDefault",checked:t.cleaningItems.isComplete},null,8,Qe),s("label",{class:"form-check-label",style:O({textDecoration:t.cleaningItems.isComplete?"line-through":"inherit"})},f(t.cleaningItems.name),5)])])],512)),[[a,o.deleteItem,"swipe",{right:!0}]])}var et=h(We,[["render",Ze]]),tt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:et});const ot={props:{groceryItems:{type:Object,required:!0}},setup(r){return{account:_(()=>n.account),member:_(()=>n.members),group:_(()=>n.activeGroup),async markComplete(e){try{await $.markComplete(e)}catch(t){c.error(t),u.toast(t.message,"error")}},async deleteItem(){try{let e=r.groceryItems.id;c.log("swiping",e),await u.confirm("Are You Sure You Want To Delete?")&&(await $.deleteItem(e),u.toast("Item removed","success","top-end",1e3))}catch(e){c.error(e),u.toast(e.message,"error")}}}}},rt={class:"d-flex justify-content-start w-100"},st=["checked"];function at(r,e,t,o,i,l){const a=M("touch");return b((d(),m("span",null,[s("div",rt,[s("div",{class:"form-check fs-5",onClick:e[0]||(e[0]=g=>o.markComplete(t.groceryItems.id))},[s("input",{class:"form-check-input elevation-2",type:"checkbox",value:"",id:"flexCheckDefault",checked:t.groceryItems.isComplete},null,8,st),s("label",{class:"form-check-label",style:O({textDecoration:t.groceryItems.isComplete?"line-through":"inherit"})},f(t.groceryItems.name),5)])])],512)),[[a,o.deleteItem,"swipe",{right:!0}]])}var nt=h(ot,[["render",at],["__scopeId","data-v-7a977cbe"]]),ct=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:nt});class it{async getGroup(e){const t=await p.get("api/groups/"+e);c.log("get group",t.data),n.activeGroup=t.data}async createGroup(e){const t=await p.post("api/groups",e);return c.log("group created",t.data),n.groups.push(t.data),t.data}async groupSearch(e){const t=await p.get("api/groups",{params:e});c.log("[groupSearch]",t.data),n.searchResults=t.data}async deleteGroup(e){const t=p.delete("api/groups/"+e);c.log("[deleteGroup]",t.data),n.activeGroup={},n.groups=n.groups.filter(o=>o.id!=e)}}const re=new it,lt={setup(){const r=te(),e=R({});return{editable:e,async createGroup(){try{let t=await re.createGroup(e.value);I.getOrCreateInstance(document.getElementById("new-group")).hide(),r.push({name:"Home",params:{id:t.id}}),n.activeGroup=t,e.value={}}catch(t){c.error(t),u.toast(t.message,"error")}}}}},dt=s("button",{class:"btn btn-success mt-2 align-self-end elevation-2",title:"Create Group"}," Create Group ",-1);function ut(r,e,t,o,i,l){return d(),m("form",{class:"mb-3 d-flex flex-column",onSubmit:e[1]||(e[1]=E((...a)=>o.createGroup&&o.createGroup(...a),["prevent"]))},[b(s("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>o.editable.name=a),type:"text",class:"form-control",name:"",id:"","aria-describedby":"helpId",placeholder:"Name your Group!",required:""},null,512),[[T,o.editable.name]]),dt],32)}var mt=h(lt,[["render",ut]]),_t=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:mt});class pt{async getGroupMembers(e){const t=await p.get(`api/groups/${e}/members`);c.log("got group members",t.data),n.members=t.data}async getPendingMembers(e){const t=await p.get(`api/groups/${e}/members`,{params:{status:"pending"}});c.log("[getPendingMembers]",t.data),n.groupRequests=t.data}async createMember(e){const t=await p.post("api/members",e);c.log("[createMember]",t.data),n.members.push(t.data)}async acceptMember(e,t){const o=n.members.findIndex(l=>l.memberId==e),i=await p.put("api/members/"+e,t);c.log("[acceptMember]",i.data),n.memberRequest={},n.groupRequests=n.groupRequests.filter(l=>l.memberId!=e),o!=-1?n.members.splice(o,1,i.data):n.members.push(i.data)}async declineMember(e,t){const o=n.members.findIndex(l=>l.memberId==e),i=await p.put("api/members/"+e,t);c.log("[declineMember]",i.data),n.memberRequest={},n.groupRequests=n.groupRequests.filter(l=>l.memberId!=e),o!=-1&&n.members.splice(o,1,i.data)}}const N=new pt,ht={setup(){return{members:_(()=>n.members),account:_(()=>n.account),activeGroup:_(()=>n.activeGroup),acceptedMembers:_(()=>n.members.filter(r=>r.status=="accepted")),declinedMembers:_(()=>n.members.filter(r=>r.status=="declined")),async deleteGroup(){await u.confirm()&&(await re.deleteGroup(n.activeGroup.id),I.getOrCreateInstance(document.getElementById("group-options")).hide(),u.toast("Group deleted","success"))},async changeStatus(r,e){try{const t={status:e,groupId:n.activeGroup.id};e=="declined"&&(await N.declineMember(r,t),u.toast("Member booted","success")),e=="accepted"&&(await N.acceptMember(r,t),u.toast("Member accepted","success"))}catch(t){c.error(t),u.toast(t.message,"error")}}}}},gt={class:"container-fluid"},ft={class:"row"},bt={class:"col-12"},vt={class:"text-center"},yt={key:0},wt={key:0},$t=s("br",null,null,-1),kt={class:"text-end"},Ct=["onClick"],It={key:1},xt={key:0},St=s("br",null,null,-1),At=["onClick"],Tt={class:"col-12 d-flex flex-column align-items-center p-3"};function Mt(r,e,t,o,i,l){return d(),m("div",gt,[s("div",ft,[s("div",bt,[s("h1",vt,f(o.activeGroup.name),1),o.acceptedMembers.length>1?(d(),m("h6",yt,"Accepted members:")):w("",!0),(d(!0),m(S,null,G(o.members,a=>(d(),m("ul",{key:a.id},[a.id!=o.account.id&&a.status=="accepted"?(d(),m("li",wt,[s("span",null,f(a.name),1),$t,s("span",kt,[s("button",{onClick:g=>o.changeStatus(a.memberId,"declined"),class:"btn btn-danger"}," Boot Member? ",8,Ct)])])):w("",!0)]))),128)),o.declinedMembers.length>0?(d(),m("h6",It,"Declined members:")):w("",!0),(d(!0),m(S,null,G(o.members,a=>(d(),m("ul",{key:a.id},[a.id!=o.account.id&&a.status=="declined"?(d(),m("li",xt,[s("span",null,f(a.name),1),St,s("span",null,[s("button",{onClick:g=>o.changeStatus(a.memberId,"accepted"),class:"btn btn-success"}," Accept Member? ",8,At)])])):w("",!0)]))),128))]),s("div",Tt,[s("button",{class:"btn btn-danger my-3",onClick:e[0]||(e[0]=(...a)=>o.deleteGroup&&o.deleteGroup(...a))}," Delete group? ")])])])}var Rt=h(ht,[["render",Mt]]),Et=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Rt});const Gt={props:{hardwareItems:{type:Object,required:!0}},setup(r){return{account:_(()=>n.account),member:_(()=>n.members),group:_(()=>n.activeGroup),async markComplete(e){try{await $.markComplete(e)}catch(t){c.error(t),u.toast(t.message,"error")}},async deleteItem(){try{let e=r.hardwareItems.id;c.log("swiping",e),await u.confirm("Are You Sure You Want To Delete?")&&(await $.deleteItem(e),u.toast("Item removed","success","top-end",1e3))}catch(e){c.error(e),u.toast(e.message,"error")}}}}},Ot={class:"d-flex justify-content-start"},jt=["checked"];function Nt(r,e,t,o,i,l){const a=M("touch");return b((d(),m("span",null,[s("div",Ot,[s("div",{class:"form-check fs-5",onClick:e[0]||(e[0]=g=>o.markComplete(t.hardwareItems.id))},[s("input",{class:"form-check-input elevation-2",type:"checkbox",value:"",id:"flexCheckDefault",checked:t.hardwareItems.isComplete},null,8,jt),s("label",{class:"form-check-label",style:O({textDecoration:t.hardwareItems.isComplete?"line-through":"inherit"})},f(t.hardwareItems.name),5)])])],512)),[[a,o.deleteItem,"swipe",{right:!0}]])}var qt=h(Gt,[["render",Nt]]),Dt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:qt});const Pt={setup(){const r=R({}),e=L();return{editable:r,async createItem(){try{r.value.groupId=e.params.id,await $.createItem(r.value),r.value.name=""}catch(t){c.error(t),u.toast(t.message,"error")}}}}},Lt=pe('<option value="" selected disabled>Select one...</option><option value="grocery">Grocery</option><option value="hardware">Hardware</option><option value="cleaning">Cleaning</option><option value="office">Office</option>',5),Ft=[Lt],zt={class:"input-group my-2"},Bt=s("div",{class:"input-group-append"},[s("button",{class:"btn-rounded-end bg-success elevation-2",id:"basic-addon2"},[s("i",{class:"mdi mdi-check"})])],-1);function Ut(r,e,t,o,i,l){return d(),m("form",{onSubmit:e[2]||(e[2]=E(a=>o.createItem(),["prevent"]))},[b(s("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>o.editable.type=a),class:"form-select",name:"",id:""},Ft,512),[[ee,o.editable.type]]),s("div",zt,[b(s("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>o.editable.name=a),type:"text",class:"form-control",placeholder:"shopping item","aria-label":"shopping item","aria-describedby":"basic-addon2"},null,512),[[T,o.editable.name]]),Bt])],32)}var Vt=h(Pt,[["render",Ut]]),Ht=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Vt});const Yt={setup(){return{groupToJoin:_(()=>n.grouptoJoin),async createMember(){const r={groupId:n.grouptoJoin.id,accountId:n.account.id};try{await N.createMember(r),u.toast("Your request has been sent","success"),n.searchResults=[],I.getOrCreateInstance(document.getElementById("join-group")).hide()}catch(e){c.error(e),u.toast(e.message,"error")}}}}},se=r=>(H("data-v-8d047772"),r=r(),Y(),r),Jt={class:"container-fluid"},Kt={class:"row"},Wt={class:"col-12"},Xt=se(()=>s("h6",{class:"p-1"},"Group Name:",-1)),Qt={class:"p-1"},Zt={class:"col-12"},eo=se(()=>s("h6",{class:"p-1"},"Group Creator:",-1)),to={class:"d-flex align-items-center p-1"},oo=["src"],ro={class:"col-6 offset-6"};function so(r,e,t,o,i,l){return d(),m("div",Jt,[s("div",Kt,[s("div",Wt,[Xt,s("h6",Qt,f(o.groupToJoin.name),1)]),s("div",Zt,[eo,s("div",to,[s("img",{src:o.groupToJoin.picture,alt:"",class:"img-small px-1"},null,8,oo),s("h6",null,f(o.groupToJoin.creatorName),1)])]),s("div",ro,[s("button",{onClick:e[0]||(e[0]=(...a)=>o.createMember&&o.createMember(...a)),class:"btn btn-primary"}," Request to join? ")])])])}var ao=h(Yt,[["render",so],["__scopeId","data-v-8d047772"]]),no=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ao});const co="modulepreload",ae={},io="/",q=function(e,t){return!t||t.length===0?e():Promise.all(t.map(o=>{if(o=`${io}${o}`,o in ae)return;ae[o]=!0;const i=o.endsWith(".css"),l=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${l}`))return;const a=document.createElement("link");if(a.rel=i?"stylesheet":co,i||(a.as="script",a.crossOrigin=""),a.href=o,document.head.appendChild(a),i)return new Promise((g,x)=>{a.addEventListener("load",g),a.addEventListener("error",x)})})).then(()=>e())};function lo(r){switch(r){case"./pages/AccountPage.vue":return q(()=>import("./AccountPage.fbbf0b18.js"),["assets/AccountPage.fbbf0b18.js","assets/AccountPage.8159d105.css","assets/vendor.7fc07221.js"]);case"./pages/ChoresPage.vue":return q(()=>import("./ChoresPage.598debf7.js"),["assets/ChoresPage.598debf7.js","assets/ChoresPage.e42138d0.css","assets/vendor.7fc07221.js"]);case"./pages/HomePage.vue":return q(()=>import("./HomePage.5ba28cb9.js"),["assets/HomePage.5ba28cb9.js","assets/HomePage.406dbb63.css","assets/vendor.7fc07221.js"]);case"./pages/ItemsPage.vue":return q(()=>import("./ItemsPage.2919752f.js"),["assets/ItemsPage.2919752f.js","assets/ItemsPage.c708e225.css","assets/vendor.7fc07221.js"]);case"./pages/RecipesPage.vue":return q(()=>import("./RecipesPage.9d50171c.js"),["assets/RecipesPage.9d50171c.js","assets/RecipesPage.a24bed4e.css","assets/vendor.7fc07221.js"]);default:return new Promise(function(e,t){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(t.bind(null,new Error("Unknown variable dynamic import: "+r)))})}}function D(r){return()=>lo(`./pages/${r}.vue`)}const uo=[{path:"/group/:id/home",name:"Home",component:D("HomePage"),beforeEnter:F},{path:"/group/:id/items",name:"Items",component:D("ItemsPage"),beforeEnter:F},{path:"/group/:id/recipes",name:"Recipes",component:D("RecipesPage"),beforeEnter:F},{path:"/group/:id/chores",name:"Chores",component:D("ChoresPage"),beforeEnter:F},{path:"/",name:"Account",component:D("AccountPage"),beforeEnter:fe}],X=he({linkActiveClass:"router-link-active",linkExactActiveClass:"router-link-exact-active",history:ge(),routes:uo}),U={connection:"connection",connected:"connected",disconnect:"disconnect",authenticate:"authenticate",authenticated:"authenticated",userConnected:"userConnected",userDisconnected:"userDisconnected",error:"error"};class mo{constructor(e=!1,t=J){this.socket=be(t||J),this.requiresAuth=e,this.queue=[],this.authenticated=!1,this.on(U.connected,this.onConnected).on(U.authenticated,this.onAuthenticated).on(U.error,this.onError)}on(e,t){var o;return(o=this.socket)==null||o.on(e,t.bind(this)),this}onConnected(e){c.log("[SOCKET_CONNECTION]",e),this.connected=!0,this.playback()}onAuthenticated(e){c.log("[SOCKET_AUTHENTICATED]",e),this.authenticated=!0,this.playback()}authenticate(e){var t;(t=this.socket)==null||t.emit(U.authenticate,e)}onError(e){c.error("[SOCKET_ERROR]",e)}enqueue(e,t){c.log("[ENQUEING_ACTION]",{action:e,payload:t}),this.queue.push({action:e,payload:t})}playback(){c.log("[SOCKET_PLAYBACK]");const e=[...this.queue];this.queue=[],e.forEach(t=>{this.emit(t.action,t.payload)})}emit(e,t=void 0){if(this.requiresAuth&&!this.authenticated)return this.enqueue(e,t);if(!this.connected)return this.enqueue(e,t);this.socket.emit(e,t)}}class _o extends mo{constructor(){super();this.on("error",this.onError).on("joined:room",this.joinedRoom).on("new:note",this.newNote).on("new:item",this.newItem).on("edit:item",this.editItem).on("new:chore",this.newChore).on("edit:chore",this.editChore).on("delete:chore",this.deleteChore)}joinRoom(e="general"){this.emit("join:room",{roomName:e})}joinedRoom(e){c.log("you have joined the room:",e.roomName)}newNote(e){c.log("[newNote:socket]",e),n.notes.unshift(e)}newItem(e){c.log("[new:item]",e),n.items.push(e)}editItem(e){c.log("[editItem:socket]",e);let t=n.items.findIndex(o=>o.id==e.id);n.items.splice(t,1,e)}newChore(e){c.log("[newChore:socket]",e),n.chores.unshift(e)}editChore(e){c.log("[editChore:socket]",e);let t=n.chores.findIndex(o=>o.id==e.id);n.chores.splice(t,1,e)}deleteChore(e){c.log("[delete:chore]",e),n.chores=n.chores.filter(t=>t.id!=e.id)}onError(e){u.toast(e.message,"error")}}const ne=new _o,v=ve({domain:Me,clientId:Ee,audience:Re,useRefreshTokens:!0,onRedirectCallback:r=>{X.push(r&&r.targetUrl?r.targetUrl:window.location.pathname)}});v.on(v.AUTH_EVENTS.AUTHENTICATED,async function(){p.defaults.headers.authorization=v.bearer,p.interceptors.request.use(po),n.user=v.user,await K.getAccount(),ne.authenticate(v.bearer),await K.getMyGroups(),n.groups.length==1&&(n.activeGroup=n.groups[0],X.push({name:"Home",params:{id:n.activeGroup.id}}))});async function po(r){if(!v.isAuthenticated)return r;const e=v.identity.exp*1e3,t=e<Date.now(),o=e<Date.now()+1e3*60*60*12;return t?await v.loginWithPopup():o&&(await v.getTokenSilently(),p.defaults.headers.authorization=v.bearer,ne.authenticate(v.bearer)),r}const ho={setup(){return{user:_(()=>n.user),account:_(()=>n.account),async login(){v.loginWithPopup()},async logout(){v.logout({returnTo:window.location.origin})}}}},ce=r=>(H("data-v-4cc5affa"),r=r(),Y(),r),go={class:""},fo={key:1,class:"dropdown my-2 my-lg-0"},bo={title:"Account Options",class:"dropdown-toggle selectable","data-bs-toggle":"dropdown","aria-expanded":"false",id:"authDropdown"},vo={key:0,class:"text-center d-flex flex-column"},yo=["src"],wo={class:"mx-3 text-dark lighten-30"},$o={class:"dropdown-menu p-0 list-group w-100","aria-labelledby":"authDropdown"},ko=ce(()=>s("div",{class:"list-group-item list-group-item-action hoverable text-danger","data-bs-toggle":"modal","data-bs-target":"#edit-account"},[s("i",{class:"mdi mdi-pencil"}),A(" Edit Account ")],-1)),Co=ce(()=>s("i",{class:"mdi mdi-logout"},null,-1)),Io=A(" Logout "),xo=[Co,Io];function So(r,e,t,o,i,l){return d(),m("span",go,[o.user.isAuthenticated?(d(),m("div",fo,[s("div",bo,[o.account.picture?(d(),m("div",vo,[s("img",{src:o.account.picture,alt:"account photo",height:"90",class:"rounded align-self-center"},null,8,yo),s("span",wo,f(o.account.name),1)])):w("",!0)]),s("div",$o,[ko,s("div",{class:"list-group-item list-group-item-action hoverable text-danger",onClick:e[1]||(e[1]=(...a)=>o.logout&&o.logout(...a))},xo)])])):(d(),m("button",{key:0,title:"Login",class:"btn selectable lighten-30 text-uppercase my-2 my-lg-0",onClick:e[0]||(e[0]=(...a)=>o.login&&o.login(...a))}," Login "))])}var Ao=h(ho,[["render",So],["__scopeId","data-v-4cc5affa"]]),To=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ao}),Mo="/assets/honeydo_logo.3d90ff39.png";const Ro={setup(){return{}}},Eo={class:"row"},Go=s("h1",{class:"bg-tertiary elevation-2 p-2"},[s("img",{src:Mo,alt:"",class:"img-fluid",style:{"max-height":"45px"}})],-1),Oo=[Go];function jo(r,e,t,o,i,l){return d(),m("div",Eo,Oo)}var No=h(Ro,[["render",jo]]),qo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:No});const Do={props:{member:{type:Object,required:!0}},setup(r){return{chores:_(()=>n.chores.filter(e=>e.assignedTo==r.member.id)),account:_(()=>n.account),group:_(()=>n.activeGroup),async markComplete(e){try{await W.markComplete(e)}catch(t){c.error(t),u.toast(t.message,"error")}},async deleteChore(e){try{await u.confirm("Delete this Chore?")&&(await W.deleteChore(e),u.toast("Chore Deleted!","success","top-end",1e3))}catch(t){c.error(t),u.toast(t.message,"error")}}}}},Po={key:0},Lo={class:"rounded px-1"},Fo=["value"],zo={class:"d-flex justify-content-between"},Bo=["onClick"],Uo=["checked"],Vo=["onClick"];function Ho(r,e,t,o,i,l){return o.chores.length>0?(d(),m("div",Po,[s("h3",null,[s("span",Lo,f(t.member.name),1)]),(d(!0),m(S,null,G(o.chores,a=>(d(),m("div",{class:"form-check mx-2",key:a.id,value:a.id},[s("div",zo,[s("div",{onClick:g=>o.markComplete(a.id)},[s("input",{title:"Mark Chore Complete",type:"checkbox",class:"form-check-input fs-5 elevation-2",name:"Chore Name",id:"",checked:a.isComplete},null,8,Uo),s("label",{class:"form-check-label ms-2 mb-1 fs-5",for:"",style:O({textDecoration:a.isComplete?"line-through":"inherit"})},f(a.body),5)],8,Bo),a.creatorId==o.account.id||o.group.creatorId==o.account.id?(d(),m("i",{key:0,onClick:g=>o.deleteChore(a.id),class:"mdi mdi-trash-can-outline ms-2 text-secondary"},null,8,Vo)):w("",!0)])],8,Fo))),128))])):w("",!0)}var Yo=h(Do,[["render",Ho]]),Jo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Yo});const Ko={setup(){return{}}},Wo={class:"modal fade bg-modal",tabindex:"-1",role:"dialog","aria-labelledby":"modelTitleId","aria-hidden":"true"},Xo={class:"modal-dialog modal-dialog-end",role:"document"},Qo={class:"modal-content"},Zo={class:"modal-header bg-secondary"},er={class:"modal-title"},tr=s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),or={class:"modal-body bg-secondary lighten-20 rounded-bottom"};function rr(r,e,t,o,i,l){return d(),m("div",Wo,[s("div",Xo,[s("div",Qo,[s("div",Zo,[s("h5",er,[z(r.$slots,"title")]),tr]),s("div",or,[z(r.$slots,"body")])])])])}var sr=h(Ko,[["render",rr]]),ar=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:sr});const nr={setup(){return{user:_(()=>n.user),activeGroup:_(()=>n.activeGroup)}}},P=r=>(H("data-v-5357ba96"),r=r(),Y(),r),cr={class:"navbar navbar-expand-lg navbar-dark bg-tertiary px-3 nav-sticky"},ir={key:0,class:"d-flex justify-content-end w-100"},lr={key:1,class:"d-flex justify-content-between w-100"},dr=P(()=>s("i",{class:"mdi mdi-format-list-bulleted fs-4"},null,-1)),ur=P(()=>s("i",{class:"mdi mdi-cart-outline fs-4"},null,-1)),mr=P(()=>s("i",{class:"mdi mdi-home"},null,-1)),_r=P(()=>s("i",{class:"mdi mdi-noodles fs-4"},null,-1)),pr=P(()=>s("i",{class:"mdi mdi-account fs-4"},null,-1));function hr(r,e,t,o,i,l){const a=C("Login"),g=C("router-link");return d(),m("nav",cr,[o.user.isAuthenticated?(d(),m("div",lr,[o.activeGroup.id?(d(),B(g,{key:0,class:"navbar-brand p-0 text-center m-0 text-dark",to:{name:"Chores",params:{id:o.activeGroup.id}},title:"Chores"},{default:y(()=>[dr]),_:1},8,["to"])):w("",!0),o.activeGroup.id?(d(),B(g,{key:1,class:"navbar-brand p-0 text-center m-0 text-dark",to:{name:"Items",params:{id:o.activeGroup.id}},title:"Shopping List"},{default:y(()=>[ur]),_:1},8,["to"])):w("",!0),o.activeGroup.id?(d(),B(g,{key:2,class:"navbar-brand p-0 text-center m-0 text-dark",to:{name:"Home",params:{id:o.activeGroup.id}},title:"Home"},{default:y(()=>[mr]),_:1},8,["to"])):w("",!0),o.activeGroup.id?(d(),B(g,{key:3,class:"navbar-brand p-0 text-center m-0 text-dark",to:{name:"Recipes",params:{id:o.activeGroup.id}},title:"Recipes"},{default:y(()=>[_r]),_:1},8,["to"])):w("",!0),k(g,{class:"navbar-brand p-0 text-center m-0 text-dark",to:{name:"Account"},title:"Account"},{default:y(()=>[pr]),_:1})])):(d(),m("div",ir,[k(a)]))])}var gr=h(nr,[["render",hr],["__scopeId","data-v-5357ba96"]]),fr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:gr});class br{async getNotes(e){const t=await p.get(`api/groups/${e}/notes`);c.log("[getNotes]",t.data),n.notes=t.data.reverse()}async createNote(e){const t=await p.post("api/notes",e);c.log("[createNote]",t.data)}async deleteNotes(e){const t=await p.delete("api/notes/"+e);c.log(t.data),n.notes=n.notes.filter(o=>o.id!=e)}async deleteAllNotes(e){await e.forEach(t=>this.deleteNotes(t.id))}}const ie=new br,vr={setup(){const r=L(),e=R({});return{editable:e,async createNote(){try{e.value.groupId=r.params.id,await ie.createNote(e.value),I.getOrCreateInstance(document.getElementById("new-note")).hide(),e.value={}}catch(t){c.error(t),u.toast(t.message,"error")}}}}},yr=s("button",{class:"btn btn-success mt-2 align-self-end elevation-2",title:"Create Note"}," Create Note ",-1);function wr(r,e,t,o,i,l){return d(),m("form",{class:"mb-3 d-flex flex-column",onSubmit:e[1]||(e[1]=E((...a)=>o.createNote&&o.createNote(...a),["prevent"]))},[b(s("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>o.editable.body=a),type:"text",class:"form-control",name:"",id:"","aria-describedby":"helpId",placeholder:"Tell us..."},null,512),[[T,o.editable.body]]),yr],32)}var $r=h(vr,[["render",wr]]),kr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$r});const Cr={props:{note:{type:Object,required:!0}},setup(r){return{notes:_(()=>n.notes),account:_(()=>n.account),group:_(()=>n.activeGroup),async deleteNotes(){try{let e=r.note.id;await u.confirm()&&(await ie.deleteNotes(e),u.toast("Note Deleted","success","top-end",1e3))}catch(e){c.error(e),u.toast(e.message,"error")}},swipeRight(){c.log("swiping right")}}}},Ir={class:"row p-3"},xr={class:"col-3"},Sr=["src"],Ar={class:"col-9 rounded text-start elevation-2 d-flex justify-content-between"};function Tr(r,e,t,o,i,l){var x;const a=M("touch"),g=M("touch-class");return b((d(),m("span",null,[s("div",Ir,[s("div",xr,[s("img",{src:(x=t.note.creator)==null?void 0:x.picture,alt:"",class:"img-fluid img-small rounded-circle"},null,8,Sr)]),s("div",Ar,[s("div",null,[s("span",null,f(new Date(t.note.createdAt).toLocaleString()),1),s("p",null,f(t.note.body),1)])])])],512)),[[a,o.deleteNotes,"swipe",{right:!0}],[g,"active"]])}var Mr=h(Cr,[["render",Tr],["__scopeId","data-v-917f0acc"]]),Rr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Mr});const Er={setup(){return{}}},Gr={class:"offcanvas offcanvas-start",tabindex:"-1","aria-labelledby":"offcanvasExampleLabel"},Or={class:"offcanvas-header"},jr={class:"offcanvas-title",id:"offcanvasExampleLabel"},Nr=s("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1),qr={class:"offcanvas-body"};function Dr(r,e,t,o,i,l){return d(),m("div",Gr,[s("div",Or,[s("h5",jr,[z(r.$slots,"title")]),Nr]),s("div",qr,[z(r.$slots,"body")])])}var Pr=h(Er,[["render",Dr]]),Lr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Pr});const Fr={props:{officeItems:{type:Object,requierd:!0}},setup(r){return{account:_(()=>n.account),member:_(()=>n.members),group:_(()=>n.activeGroup),async markComplete(e){try{await $.markComplete(e)}catch(t){c.error(t),u.toast(t.message,"error")}},async deleteItem(){try{let e=r.officeItems.id;c.log("swiping",e),await u.confirm("Are You Sure You Want To Delete?")&&(await $.deleteItem(e),u.toast("Item removed","success","top-end",1e3))}catch(e){c.error(e),u.toast(e.message,"error")}}}}},zr={class:"justify-content-start"},Br=["checked"];function Ur(r,e,t,o,i,l){const a=M("touch");return b((d(),m("span",null,[s("div",zr,[s("div",{class:"form-check fs-5",onClick:e[0]||(e[0]=g=>o.markComplete(t.officeItems.id))},[s("input",{class:"form-check-input elevation-2",type:"checkbox",value:"",id:"flexCheckDefault",checked:t.officeItems.isComplete},null,8,Br),s("label",{class:"form-check-label",style:O({textDecoration:t.officeItems.isComplete?"line-through":"inherit"})},f(t.officeItems.name),5)])])],512)),[[a,o.deleteItem,"swipe",{right:!0}]])}var Vr=h(Fr,[["render",Ur]]),Hr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Vr});const Yr={props:{recipe:{type:Object,required:!0}},setup(r){return te(),{goTo(){n.activeRecipe=r.recipe}}}},Jr={class:"col-12 p-2 d-flex"},Kr=["src"],Wr={class:"p-2"};function Xr(r,e,t,o,i,l){return d(),m("div",{class:"row my-2 elevation-2 rounded bg-secondary selectable","data-bs-toggle":"offcanvas","data-bs-target":"#recipe",onClick:e[0]||(e[0]=(...a)=>o.goTo&&o.goTo(...a)),title:"Recipe Details"},[s("div",Jr,[s("img",{class:"img-fluid img-md",src:t.recipe.imageUrl,alt:"recipe image"},null,8,Kr),s("h6",Wr,f(t.recipe.name),1)])])}var Qr=h(Yr,[["render",Xr],["__scopeId","data-v-034de530"]]),Zr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Qr});const es={setup(){const r=L();return{activeRecipe:_(()=>n.activeRecipe),async addIngredient(e){try{const t={name:e,groupId:r.params.id};await $.createItem(t),u.toast(`${t.name} added to list`,"success","top-end",1e3)}catch(t){c.error(t),u.toast(t.message,"error")}},async addAll(e){try{await $.addAll(e,r.params.id),u.toast("All ingredients added to list","success","top-end",1e3)}catch(t){c.error(t),u.toast(t.message,"error")}}}}},ts={class:"container-fluid"},os={class:"row"},rs={class:"col-12"},ss=["src"],as=["onClick"],ns=s("i",{class:"mdi mdi-plus selectable",title:"Add Ingredient"},null,-1),cs={class:"col-12"},is=["href"];function ls(r,e,t,o,i,l){return d(),m("div",ts,[s("div",os,[s("div",rs,[s("img",{src:o.activeRecipe.imageUrl,alt:"recipe image",class:"img-fluid rounded"},null,8,ss)]),s("i",{class:"mdi mdi-plus selectable fs-5 p-2",onClick:e[0]||(e[0]=a=>o.addAll(o.activeRecipe.ingredients))}," Add all to shopping list"),(d(!0),m(S,null,G(o.activeRecipe.ingredients,a=>(d(),m("div",{key:a.name,class:"col-12"},[s("p",{onClick:g=>o.addIngredient(a),class:"ps-2"},[ns,A(" "+f(a),1)],8,as)]))),128)),s("div",cs,[s("a",{target:"_blank",class:"btn-secondary btn",href:`https://tasty.co/recipe/${o.activeRecipe.slug}`},"Click for full recipe",8,is)])])])}var ds=h(es,[["render",ls]]),us=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ds});const ms={setup(){return{memberRequest:_(()=>n.memberRequest),async acceptMember(){try{const r={status:"accepted"};await N.acceptMember(n.memberRequest.memberId,r),u.toast("Member has been accepted","success"),I.getOrCreateInstance(document.getElementById("group-request")).hide()}catch(r){c.error(r),u.toast(r.message,"error")}},async declineMember(){try{const r={status:"declined"};await N.declineMember(n.memberRequest.memberId,r),u.toast("Member has been declined","error"),I.getOrCreateInstance(document.getElementById("group-request")).hide()}catch(r){c.error(r),u.toast(r.message,"error")}}}}},_s={class:"container-fluid"},ps={class:"row justify-content-center"},hs={class:"col-12 d-flex flex-column align-items-center"},gs=["src"],fs={class:"row"},bs={class:"col-12 d-flex justify-content-around"};function vs(r,e,t,o,i,l){return d(),m("div",_s,[s("div",ps,[s("div",hs,[s("h6",null,f(o.memberRequest.name),1),s("img",{src:o.memberRequest.picture,alt:"",class:"img-small"},null,8,gs)])]),s("div",fs,[s("div",bs,[s("button",{onClick:e[0]||(e[0]=(...a)=>o.acceptMember&&o.acceptMember(...a)),class:"btn btn-success"},"Accept"),s("button",{onClick:e[1]||(e[1]=(...a)=>o.declineMember&&o.declineMember(...a)),class:"btn btn-danger"},"Decline")])])])}var ys=h(ms,[["render",vs],["__scopeId","data-v-43b8036d"]]),ws=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ys});function $s(r){Object.entries({"./components/AccountForm.vue":Le,"./components/ChoreForm.vue":Je,"./components/CleaningItems.vue":tt,"./components/GroceryItem.vue":ct,"./components/GroupForm.vue":_t,"./components/GroupOptionsForm.vue":Et,"./components/HardwareItem.vue":Dt,"./components/ItemForm.vue":Ht,"./components/JoinForm.vue":no,"./components/Login.vue":To,"./components/LogoBanner.vue":qo,"./components/MemberChores.vue":Jo,"./components/Modal.vue":ar,"./components/Navbar.vue":fr,"./components/NoteForm.vue":kr,"./components/Notes.vue":Rr,"./components/OffCanvas.vue":Lr,"./components/OfficeItems.vue":Hr,"./components/Recipe.vue":Zr,"./components/RecipeForm.vue":us,"./components/RequestForm.vue":ws}).forEach(([t,o])=>{const i=o.name||t.substr(t.lastIndexOf("/")+1).replace(/\.\w+$/,"");r.component(i,o.default)})}const le=ye(Te);$s(le);le.use(we).use(X).mount("#app");export{n as A,u as P,h as _,W as c,re as g,$ as i,c as l,N as m,ie as n,ne as s,Cs as t};
